{
    "sourceFile": "app/Http/Controllers/KasirController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 251,
            "patches": [
                {
                    "date": 1630203664033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1630203688749,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,9 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n-        return view('daftar_barang');\n+        return view('kasir');\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1633533234052,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,9 @@\n \n namespace App\\Http\\Controllers;\n \n use Illuminate\\Http\\Request;\n+use App\\Models\\SupplierProduct;\n \n class KasirController extends Controller\n {\n     /**\n@@ -12,8 +13,9 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n+\n         return view('kasir');\n     }\n \n     /**\n"
                },
                {
                    "date": 1633533251552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n \n namespace App\\Http\\Controllers;\n \n use Illuminate\\Http\\Request;\n-use App\\Models\\SupplierProduct;\n+use App\\Models\\Product;\n \n class KasirController extends Controller\n {\n     /**\n"
                },
                {
                    "date": 1633533286769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n-\n+        $myproduct = Product::orderBy();\n         return view('kasir');\n     }\n \n     /**\n"
                },
                {
                    "date": 1633533293028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n-        $myproduct = Product::orderBy();\n+        $myproduct = Product::orderBy('','asc');\n         return view('kasir');\n     }\n \n     /**\n"
                },
                {
                    "date": 1633533299773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n-        $myproduct = Product::orderBy('','asc');\n+        $myproduct = Product::orderBy('kode','asc')->get();\n         return view('kasir');\n     }\n \n     /**\n"
                },
                {
                    "date": 1633533305764,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n      */\n     public function index()\n     {\n         $myproduct = Product::orderBy('kode','asc')->get();\n-        return view('kasir');\n+        return view('kasir', compact());\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1633533310850,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n      */\n     public function index()\n     {\n         $myproduct = Product::orderBy('kode','asc')->get();\n-        return view('kasir', compact());\n+        return view('kasir', compact(\"myproduct\"));\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1634274254317,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,86 +1,238 @@\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Product;\n-\n-class KasirController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-        $myproduct = Product::orderBy('kode','asc')->get();\n-        return view('kasir', compact(\"myproduct\"));\n-    }\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n-}\n+<?php\r\n+\r\n+namespace App\\Http\\Controllers;\r\n+use Illuminate\\Support\\Facades\\Session;\r\n+use Illuminate\\Http\\Request;\r\n+use App\\Models\\Product;\r\n+use App\\Models\\Invoice;\r\n+use App\\Models\\InvoiceDetail;\r\n+\r\n+class KasirController extends Controller\r\n+{\r\n+    /**\r\n+     * Display a listing of the resource.\r\n+     *\r\n+     * @return \\Illuminate\\Http\\Response\r\n+     */\r\n+    public function index()\r\n+    {\r\n+        $myitemcount = 0;\r\n+        $mycart = session()->get('cart');\r\n+        $myexplode = explode(\",\",$mycart);\r\n+        $mystring = \"\";\r\n+        $alltotal = 0;\r\n+        if(count($myexplode) > 1){\r\n+          \r\n+            for($i = 0 ; $i < count($myexplode); $i++)\r\n+            {\r\n+                $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n+                $namaitem = $explodeperitem[1];\r\n+                $qtyitem = $explodeperitem[2];\r\n+                $subtotal = $explodeperitem[3];\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n+                $alltotal += $subtotal;\r\n+                $myitemcount += $qtyitem;\r\n+            }\r\n+           \r\n+        }\r\n+        else if(count($myexplode) == 1)\r\n+        {\r\n+            $explodeperitem = explode(\"||\",$myexplode[0]);\r\n+            if(isset($explodeperitem[1]))\r\n+            {\r\n+                $namaitem = $explodeperitem[1];\r\n+                $qtyitem = $explodeperitem[2];\r\n+                $subtotal = $explodeperitem[3];\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n+                $alltotal += $subtotal;\r\n+                $myitemcount += $qtyitem;\r\n+            }\r\n+            $string = '\r\n+            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-edit\"></i></button>;\r\n+          \r\n+       \r\n+        }\r\n+        $mystring = $mystring;\r\n+        $mytotal = $alltotal;\r\n+        session()->put('totalqty',$myitemcount);\r\n+        session()->put('subtotalcart',$mytotal);\r\n+        // dd($myexplode);\r\n+        \r\n+\r\n+        $myproduct = Product::orderBy('kode','asc')->get();\r\n+        return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n+    }\r\n+    public function createinvoice(Request $request){\r\n+       $custname = $request->mycustomername;\r\n+       $invoicenote = $request->myinvoicenote;\r\n+       $checked = $request->mychecked;\r\n+       $cost = $request->mycost;\r\n+       $paymentmethod = $request->mymethod;\r\n+\r\n+       if (session()->has('cart')) \r\n+       {\r\n+\r\n+           \r\n+            $mycart = session()->get('cart');\r\n+        \r\n+            date_default_timezone_set('Asia/Jakarta');\r\n+            $mydate = date(\"Y-m-d\");\r\n+            $invoice = new Invoice;\r\n+            $invoice->transaction_no = \"txx\";\r\n+            $invoice->transaction_date = $mydate;\r\n+            $invoice->transaction_method = $paymentmethod;\r\n+            $invoice->transaction_shipment_delivery = $checked;\r\n+            $invoice->transaction_shipment_delivery_cost = $cost;\r\n+            $invoice->transaction_customer = $custname;\r\n+            $invoice->transaction_note = $invoicenote;\r\n+            $invoice->qty_item = session()->get('totalqty');\r\n+            $invoice->total = session()->get('subtotalcart');\r\n+            $invoice->save(); \r\n+            $myinvoiceid = $invoice->id;\r\n+            $myexplode = explode(\",\",$mycart);\r\n+            for($i = 0 ; $i < count($myexplode); $i++)\r\n+            {\r\n+                $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n+                $iditem = $explodeperitem[0];\r\n+                $namaitem = $explodeperitem[1];\r\n+                $qtyitem = $explodeperitem[2];\r\n+                $subtotal = $explodeperitem[3];\r\n+                $invoice_detail = new InvoiceDetail;\r\n+                $invoice_detail->idproduct = $iditem;\r\n+                $invoice_detail->idtransaction = $myinvoiceid;\r\n+                $invoice_detail->qty = $qtyitem;\r\n+                $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n+                $invoice_detail->subtotal = $subtotal;\r\n+                $invoice_detail->save();\r\n+            }\r\n+\r\n+            Session::forget('cart');\r\n+            Session::forget('subtotalcart');\r\n+            Session::forget('totalqty');\r\n+       }\r\n+       else{\r\n+           return \"noitem\";\r\n+       }\r\n+    }\r\n+    public function addcart(Request $request){\r\n+        $myitemcount = 0;\r\n+        $mydatacart = $request->mydata;\r\n+        $mystring  = \"\";\r\n+        $alltotal = 0;\r\n+        if (session()->has('cart')) {\r\n+            $mycart = session()->get('cart');\r\n+            $myvaluesession = $mycart.\",\".$mydatacart;\r\n+            \r\n+            $myexplode = explode(\",\",$myvaluesession);\r\n+            $mystring = \"\";\r\n+          \r\n+            for($i = 0 ; $i < count($myexplode); $i++)\r\n+            {\r\n+                $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n+                $namaitem = $explodeperitem[1];\r\n+                $qtyitem = $explodeperitem[2];\r\n+                $subtotal = $explodeperitem[3];\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n+                $alltotal += $subtotal;\r\n+                $myitemcount += $qtyitem;\r\n+            }\r\n+            session()->put('cart', $myvaluesession);\r\n+            session()->put('subtotalcart',$alltotal);\r\n+            session()->put('totalqty',$myitemcount);\r\n+        }\r\n+        else{\r\n+                $mysession = session()->put('cart', $mydatacart);\r\n+                $mycart = session()->get('cart');\r\n+                $explodeperitem = explode(\"||\",$mycart);\r\n+                $namaitem = $explodeperitem[1];\r\n+                $qtyitem = $explodeperitem[2];\r\n+                $subtotal = $explodeperitem[3];\r\n+                session()->put('subtotalcart',$subtotal);\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n+                $alltotal = $subtotal;\r\n+                $myitemcount += $qtyitem;\r\n+                session()->put('totalqty',$myitemcount);\r\n+        }\r\n+        return response()->json([\r\n+            'mystring' => $mystring,\r\n+            'mytotalqty' => $myitemcount,\r\n+            'alltotal' => $alltotal\r\n+          ]);\r\n+        // return $mystring.\"~~~\".$alltotal;\r\n+       \r\n+    }\r\n+    public function clearcart(){\r\n+        Session::forget('cart');\r\n+        Session::forget('subtotalcart');\r\n+        Session::forget('totalqty');\r\n+        $mystring = \"\";\r\n+        return $mystring;\r\n+        \r\n+    }\r\n+\r\n+    /**\r\n+     * Show the form for creating a new resource.\r\n+     *\r\n+     * @return \\Illuminate\\Http\\Response\r\n+     */\r\n+    public function create()\r\n+    {\r\n+        //\r\n+    }\r\n+\r\n+    /**\r\n+     * Store a newly created resource in storage.\r\n+     *\r\n+     * @param  \\Illuminate\\Http\\Request  $request\r\n+     * @return \\Illuminate\\Http\\Response\r\n+     */\r\n+    public function store(Request $request)\r\n+    {\r\n+        //\r\n+    }\r\n+\r\n+    /**\r\n+     * Display the specified resource.\r\n+     *\r\n+     * @param  int  $id\r\n+     * @return \\Illuminate\\Http\\Response\r\n+     */\r\n+    public function show($id)\r\n+    {\r\n+        //\r\n+    }\r\n+\r\n+    /**\r\n+     * Show the form for editing the specified resource.\r\n+     *\r\n+     * @param  int  $id\r\n+     * @return \\Illuminate\\Http\\Response\r\n+     */\r\n+    public function edit($id)\r\n+    {\r\n+        //\r\n+    }\r\n+\r\n+    /**\r\n+     * Update the specified resource in storage.\r\n+     *\r\n+     * @param  \\Illuminate\\Http\\Request  $request\r\n+     * @param  int  $id\r\n+     * @return \\Illuminate\\Http\\Response\r\n+     */\r\n+    public function update(Request $request, $id)\r\n+    {\r\n+        //\r\n+    }\r\n+\r\n+    /**\r\n+     * Remove the specified resource from storage.\r\n+     *\r\n+     * @param  int  $id\r\n+     * @return \\Illuminate\\Http\\Response\r\n+     */\r\n+    public function destroy($id)\r\n+    {\r\n+        //\r\n+    }\r\n+}\r\n"
                },
                {
                    "date": 1634274266454,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,8 +36,11 @@\n            \r\n         }\r\n         else if(count($myexplode) == 1)\r\n         {\r\n+            $mybutton = '\r\n+            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-edit\"></i></button>';\r\n+          \r\n             $explodeperitem = explode(\"||\",$myexplode[0]);\r\n             if(isset($explodeperitem[1]))\r\n             {\r\n                 $namaitem = $explodeperitem[1];\r\n@@ -46,10 +49,8 @@\n                 $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n                 $alltotal += $subtotal;\r\n                 $myitemcount += $qtyitem;\r\n             }\r\n-            $string = '\r\n-            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-edit\"></i></button>;\r\n           \r\n        \r\n         }\r\n         $mystring = $mystring;\r\n"
                },
                {
                    "date": 1634274458993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,9 @@\n         }\r\n         else if(count($myexplode) == 1)\r\n         {\r\n             $mybutton = '\r\n-            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-edit\"></i></button>';\r\n+            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n           \r\n             $explodeperitem = explode(\"||\",$myexplode[0]);\r\n             if(isset($explodeperitem[1]))\r\n             {\r\n"
                },
                {
                    "date": 1634274468119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,9 +45,9 @@\n             {\r\n                 $namaitem = $explodeperitem[1];\r\n                 $qtyitem = $explodeperitem[2];\r\n                 $subtotal = $explodeperitem[3];\r\n-                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td>\"..\"</tr>\";\r\n                 $alltotal += $subtotal;\r\n                 $myitemcount += $qtyitem;\r\n             }\r\n           \r\n"
                },
                {
                    "date": 1634274477143,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,9 +45,9 @@\n             {\r\n                 $namaitem = $explodeperitem[1];\r\n                 $qtyitem = $explodeperitem[2];\r\n                 $subtotal = $explodeperitem[3];\r\n-                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td>\"..\"</tr>\";\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n                 $alltotal += $subtotal;\r\n                 $myitemcount += $qtyitem;\r\n             }\r\n           \r\n"
                },
                {
                    "date": 1634274485038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,16 +21,18 @@\n         $myexplode = explode(\",\",$mycart);\r\n         $mystring = \"\";\r\n         $alltotal = 0;\r\n         if(count($myexplode) > 1){\r\n+            $mybutton = '\r\n+            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n           \r\n             for($i = 0 ; $i < count($myexplode); $i++)\r\n             {\r\n                 $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n                 $namaitem = $explodeperitem[1];\r\n                 $qtyitem = $explodeperitem[2];\r\n                 $subtotal = $explodeperitem[3];\r\n-                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\".$mybutton.\"<td></tr>\";\r\n                 $alltotal += $subtotal;\r\n                 $myitemcount += $qtyitem;\r\n             }\r\n            \r\n@@ -45,9 +47,9 @@\n             {\r\n                 $namaitem = $explodeperitem[1];\r\n                 $qtyitem = $explodeperitem[2];\r\n                 $subtotal = $explodeperitem[3];\r\n-                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\".$mybutton.\"<td></tr>\";\r\n                 $alltotal += $subtotal;\r\n                 $myitemcount += $qtyitem;\r\n             }\r\n           \r\n"
                },
                {
                    "date": 1634274495752,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,13 +21,14 @@\n         $myexplode = explode(\",\",$mycart);\r\n         $mystring = \"\";\r\n         $alltotal = 0;\r\n         if(count($myexplode) > 1){\r\n-            $mybutton = '\r\n-            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n           \r\n             for($i = 0 ; $i < count($myexplode); $i++)\r\n             {\r\n+                $mybutton = '\r\n+                <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+              \r\n                 $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n                 $namaitem = $explodeperitem[1];\r\n                 $qtyitem = $explodeperitem[2];\r\n                 $subtotal = $explodeperitem[3];\r\n@@ -127,8 +128,10 @@\n             $myvaluesession = $mycart.\",\".$mydatacart;\r\n             \r\n             $myexplode = explode(\",\",$myvaluesession);\r\n             $mystring = \"\";\r\n+            $mybutton = '\r\n+            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n           \r\n             for($i = 0 ; $i < count($myexplode); $i++)\r\n             {\r\n                 $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n"
                },
                {
                    "date": 1634274508450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,18 +128,19 @@\n             $myvaluesession = $mycart.\",\".$mydatacart;\r\n             \r\n             $myexplode = explode(\",\",$myvaluesession);\r\n             $mystring = \"\";\r\n-            $mybutton = '\r\n-            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n           \r\n             for($i = 0 ; $i < count($myexplode); $i++)\r\n             {\r\n+                $mybutton = '\r\n+                <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+              \r\n                 $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n                 $namaitem = $explodeperitem[1];\r\n                 $qtyitem = $explodeperitem[2];\r\n                 $subtotal = $explodeperitem[3];\r\n-                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\"..\"<td></tr>\";\r\n                 $alltotal += $subtotal;\r\n                 $myitemcount += $qtyitem;\r\n             }\r\n             session()->put('cart', $myvaluesession);\r\n"
                },
                {
                    "date": 1634274518122,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,9 +138,9 @@\n                 $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n                 $namaitem = $explodeperitem[1];\r\n                 $qtyitem = $explodeperitem[2];\r\n                 $subtotal = $explodeperitem[3];\r\n-                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\"..\"<td></tr>\";\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\".$mybutton.\"<td></tr>\";\r\n                 $alltotal += $subtotal;\r\n                 $myitemcount += $qtyitem;\r\n             }\r\n             session()->put('cart', $myvaluesession);\r\n@@ -154,9 +154,9 @@\n                 $namaitem = $explodeperitem[1];\r\n                 $qtyitem = $explodeperitem[2];\r\n                 $subtotal = $explodeperitem[3];\r\n                 session()->put('subtotalcart',$subtotal);\r\n-                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>#<td></tr>\";\r\n+                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\".$mybutton.\"<td></tr>\";\r\n                 $alltotal = $subtotal;\r\n                 $myitemcount += $qtyitem;\r\n                 session()->put('totalqty',$myitemcount);\r\n         }\r\n"
                },
                {
                    "date": 1634459212464,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,8 +65,34 @@\n \r\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n+    public function getDataCart(){\r\n+        $supplier = DB::select(\"SELECT supplier.id, supplier.name, supplier.phone, supplier.address, count(supplier_product.id) as jumlahbarang FROM supplier_product right join supplier on supplier.id = supplier_product.idsupplier group by supplier_product.idsupplier\");\r\n+        return DataTables::of($supplier)\r\n+        ->editColumn('name', function($query) {\r\n+            return '<label id = \"name'.$query->id.'\"> '.$query->name.'</label>';\r\n+        })\r\n+        ->editColumn('address', function($query) {\r\n+            return '<label id = \"address'.$query->id.'\"> '.$query->address.'</label>';\r\n+        })\r\n+        \r\n+        ->editColumn('list', function($query) {\r\n+  \r\n+            return \r\n+\r\n+            '<a ><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-info pl-2 pr-2\" ><i class=\"fas fa-server pr-2\"></i>'.$query->jumlahbarang.' Barang</button></a>\r\n+            ';\r\n+        })\r\n+        ->addColumn('action', \r\n+               function ($query) {\r\n+                $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n+                return ' <a href = \"'.$myurls.'\"><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\"><i class=\"fas fa-server pr-2\"></i>Kelola</button></a>\r\n+ ';})\r\n+              \r\n+               ->rawColumns(['action', 'name', 'phone', 'address', 'status', 'list'])\r\n+               ->make(true);\r\n+    }\r\n     public function createinvoice(Request $request){\r\n        $custname = $request->mycustomername;\r\n        $invoicenote = $request->myinvoicenote;\r\n        $checked = $request->mychecked;\r\n"
                },
                {
                    "date": 1634459224607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n use Illuminate\\Support\\Facades\\Session;\r\n use Illuminate\\Http\\Request;\r\n use App\\Models\\Product;\r\n use App\\Models\\Invoice;\r\n+use App\\Models\\Cart;\r\n use App\\Models\\InvoiceDetail;\r\n \r\n class KasirController extends Controller\r\n {\r\n@@ -66,9 +67,8 @@\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function getDataCart(){\r\n-        $supplier = DB::select(\"SELECT supplier.id, supplier.name, supplier.phone, supplier.address, count(supplier_product.id) as jumlahbarang FROM supplier_product right join supplier on supplier.id = supplier_product.idsupplier group by supplier_product.idsupplier\");\r\n         return DataTables::of($supplier)\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634459235653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function getDataCart(){\r\n-        return DataTables::of($supplier)\r\n+        return DataTables::of(Cart::query())\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('address', function($query) {\r\n"
                },
                {
                    "date": 1634459307987,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,8 +67,9 @@\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function getDataCart(){\r\n+        $mycart = Cart::join(\"product\", 'product.id','=','cart.id_product')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of(Cart::query())\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634459313696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,9 +68,9 @@\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function getDataCart(){\r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.id_product')->select(\"cart.*\",'product.name')->get();\r\n-        return DataTables::of(Cart::query())\r\n+        return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('address', function($query) {\r\n"
                },
                {
                    "date": 1634459353145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,9 +72,9 @@\n         return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n-        ->editColumn('address', function($query) {\r\n+        ->editColumn('qty', function($query) {\r\n             return '<label id = \"address'.$query->id.'\"> '.$query->address.'</label>';\r\n         })\r\n         \r\n         ->editColumn('list', function($query) {\r\n"
                },
                {
                    "date": 1634459377038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,10 +73,13 @@\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n-            return '<label id = \"address'.$query->id.'\"> '.$query->address.'</label>';\r\n+            return '<label id = \"address'.$query->id.'\"> '.$query->qty.'</label>';\r\n         })\r\n+        ->editColumn('qty', function($query) {\r\n+            return '<label id = \"address'.$query->id.'\"> '.$query->qty.'</label>';\r\n+        })\r\n         \r\n         ->editColumn('list', function($query) {\r\n   \r\n             return \r\n"
                },
                {
                    "date": 1634459389671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,10 +75,10 @@\n         })\r\n         ->editColumn('qty', function($query) {\r\n             return '<label id = \"address'.$query->id.'\"> '.$query->qty.'</label>';\r\n         })\r\n-        ->editColumn('qty', function($query) {\r\n-            return '<label id = \"address'.$query->id.'\"> '.$query->qty.'</label>';\r\n+        ->editColumn('selling_price', function($query) {\r\n+            return '<label id = \"address'.$query->id.'\"> '.$query->selling_price.'</label>';\r\n         })\r\n         \r\n         ->editColumn('list', function($query) {\r\n   \r\n"
                },
                {
                    "date": 1634459396380,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n-            return '<label id = \"address'.$query->id.'\"> '.$query->qty.'</label>';\r\n+            return '<label id = \"qty'.$query->id.'\"> '.$query->qty.'</label>';\r\n         })\r\n         ->editColumn('selling_price', function($query) {\r\n             return '<label id = \"address'.$query->id.'\"> '.$query->selling_price.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634459407012,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,15 +70,15 @@\n     public function getDataCart(){\r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.id_product')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n-            return '<label id = \"name'.$query->id.'\"> '.$query->name.'</label>';\r\n+            return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n-            return '<label id = \"qty'.$query->id.'\"> '.$query->qty.'</label>';\r\n+            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>';\r\n         })\r\n         ->editColumn('selling_price', function($query) {\r\n-            return '<label id = \"address'.$query->id.'\"> '.$query->selling_price.'</label>';\r\n+            return '<label id = \"sellingprice_'.$query->id.'\"> '.$query->selling_price.'</label>';\r\n         })\r\n         \r\n         ->editColumn('list', function($query) {\r\n   \r\n"
                },
                {
                    "date": 1634459433005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,10 +75,10 @@\n         })\r\n         ->editColumn('qty', function($query) {\r\n             return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>';\r\n         })\r\n-        ->editColumn('selling_price', function($query) {\r\n-            return '<label id = \"sellingprice_'.$query->id.'\"> '.$query->selling_price.'</label>';\r\n+        ->editColumn('subtotal', function($query) {\r\n+            return '<label id = \"subtotal'.$query->id.'\"> '.$query->selling_price.'</label>';\r\n         })\r\n         \r\n         ->editColumn('list', function($query) {\r\n   \r\n"
                },
                {
                    "date": 1634459448884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,8 +67,11 @@\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function getDataCart(){\r\n+        $mybutton = '\r\n+        <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+      \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.id_product')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n@@ -76,9 +79,9 @@\n         ->editColumn('qty', function($query) {\r\n             return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n-            return '<label id = \"subtotal'.$query->id.'\"> '.$query->selling_price.'</label>';\r\n+            return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n         \r\n         ->editColumn('list', function($query) {\r\n   \r\n"
                },
                {
                    "date": 1634459460262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,12 +84,9 @@\n         })\r\n         \r\n         ->editColumn('list', function($query) {\r\n   \r\n-            return \r\n-\r\n-            '<a ><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-info pl-2 pr-2\" ><i class=\"fas fa-server pr-2\"></i>'.$query->jumlahbarang.' Barang</button></a>\r\n-            ';\r\n+            return $mybutton;\r\n         })\r\n         ->addColumn('action', \r\n                function ($query) {\r\n                 $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n"
                },
                {
                    "date": 1634459465455,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,13 +86,13 @@\n         ->editColumn('list', function($query) {\r\n   \r\n             return $mybutton;\r\n         })\r\n-        ->addColumn('action', \r\n-               function ($query) {\r\n-                $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n-                return ' <a href = \"'.$myurls.'\"><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\"><i class=\"fas fa-server pr-2\"></i>Kelola</button></a>\r\n- ';})\r\n+//         ->addColumn('action', \r\n+//                function ($query) {\r\n+//                 $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n+//                 return ' <a href = \"'.$myurls.'\"><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\"><i class=\"fas fa-server pr-2\"></i>Kelola</button></a>\r\n+//  ';})\r\n               \r\n                ->rawColumns(['action', 'name', 'phone', 'address', 'status', 'list'])\r\n                ->make(true);\r\n     }\r\n"
                },
                {
                    "date": 1634459482811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,9 +82,9 @@\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n         \r\n-        ->editColumn('list', function($query) {\r\n+        ->editColumn('action', function($query) {\r\n   \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n@@ -92,9 +92,9 @@\n //                 $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n //                 return ' <a href = \"'.$myurls.'\"><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\"><i class=\"fas fa-server pr-2\"></i>Kelola</button></a>\r\n //  ';})\r\n               \r\n-               ->rawColumns(['action', 'name', 'phone', 'address', 'status', 'list'])\r\n+               ->rawColumns(['action', 'name', 'qty', 'address', 'status', 'list'])\r\n                ->make(true);\r\n     }\r\n     public function createinvoice(Request $request){\r\n        $custname = $request->mycustomername;\r\n"
                },
                {
                    "date": 1634459742856,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,9 +66,9 @@\n \r\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n-    public function getDataCart(){\r\n+    public function getcart(){\r\n         $mybutton = '\r\n         <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n       \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.id_product')->select(\"cart.*\",'product.name')->get();\r\n@@ -92,9 +92,9 @@\n //                 $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n //                 return ' <a href = \"'.$myurls.'\"><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\"><i class=\"fas fa-server pr-2\"></i>Kelola</button></a>\r\n //  ';})\r\n               \r\n-               ->rawColumns(['action', 'name', 'qty', 'address', 'status', 'list'])\r\n+               ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n                ->make(true);\r\n     }\r\n     public function createinvoice(Request $request){\r\n        $custname = $request->mycustomername;\r\n"
                },
                {
                    "date": 1634460286318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n     public function getcart(){\r\n         $mybutton = '\r\n         <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n       \r\n-        $mycart = Cart::join(\"product\", 'product.id','=','cart.id_product')->select(\"cart.*\",'product.name')->get();\r\n+        $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634460302914,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,9 @@\n use App\\Models\\Product;\r\n use App\\Models\\Invoice;\r\n use App\\Models\\Cart;\r\n use App\\Models\\InvoiceDetail;\r\n+use DataTables;\r\n \r\n class KasirController extends Controller\r\n {\r\n     /**\r\n"
                },
                {
                    "date": 1634460323537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,10 +68,8 @@\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function getcart(){\r\n-        $mybutton = '\r\n-        <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n       \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n@@ -84,9 +82,11 @@\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n-  \r\n+            $mybutton = '\r\n+            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+          \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n //                function ($query) {\r\n"
                },
                {
                    "date": 1634460364164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n-            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>';\r\n+            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" ';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634460375604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n-            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" ';\r\n+            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'..'\"';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634460381319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n-            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'..'\"';\r\n+            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\"';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634460387342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n-            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\"';\r\n+            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\">';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634460406092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n-            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\">';\r\n+            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\" id = \"seliingprice_'..'\">';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634460415733,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n-            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\" id = \"seliingprice_'..'\">';\r\n+            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\" id = \"seliingprice_'.$query->id.'\">';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634460440259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n             $mybutton = '\r\n-            <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+            <button type=\"button\" onclick = \"\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n           \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n"
                },
                {
                    "date": 1634460445442,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n             $mybutton = '\r\n-            <button type=\"button\" onclick = \"\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+            <button type=\"button\" onclick = \"openmodaleditcustom\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n           \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n"
                },
                {
                    "date": 1634460655640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n             $mybutton = '\r\n-            <button type=\"button\" onclick = \"openmodaleditcustom\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+            <button type=\"button\" id = \"''\" onclick = \"openmodaleditcustom(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n           \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n"
                },
                {
                    "date": 1634460660814,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n             $mybutton = '\r\n-            <button type=\"button\" id = \"''\" onclick = \"openmodaleditcustom(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+            <button type=\"button\" id = \"'.$query->id.'\" onclick = \"openmodaleditcustom(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n           \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n"
                },
                {
                    "date": 1634461105909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,8 +67,9 @@\n \r\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n+    public function e\r\n     public function getcart(){\r\n       \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n"
                },
                {
                    "date": 1634461111327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,14 @@\n \r\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n-    public function e\r\n+    public function editcart(){\r\n+        myqty: qty,\r\n+        myprice : price,\r\n+        mysellingprice : selliingprice,\r\n+        mysubtotal : subtotal\r\n+    }\r\n     public function getcart(){\r\n       \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n"
                },
                {
                    "date": 1634461141402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,13 +67,14 @@\n \r\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n-    public function editcart(){\r\n-        myqty: qty,\r\n-        myprice : price,\r\n-        mysellingprice : selliingprice,\r\n-        mysubtotal : subtotal\r\n+    public function editcart(Request $request){\r\n+        $myqty =  $reqty,\r\n+        $myprice = price,\r\n+        $mysellingprice = selliingprice,\r\n+        $mysubtotal = subtotal\r\n+        \r\n     }\r\n     public function getcart(){\r\n       \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n"
                },
                {
                    "date": 1634461151494,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,9 +68,9 @@\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function editcart(Request $request){\r\n-        $myqty =  $reqty,\r\n+        $myqty =  $request->myqty,\r\n         $myprice = price,\r\n         $mysellingprice = selliingprice,\r\n         $mysubtotal = subtotal\r\n         \r\n"
                },
                {
                    "date": 1634461159225,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,10 +68,10 @@\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function editcart(Request $request){\r\n-        $myqty =  $request->myqty,\r\n-        $myprice = price,\r\n+        $myqty =  $request->myqty;\r\n+        $myprice = $request->myqty;\r\n         $mysellingprice = selliingprice,\r\n         $mysubtotal = subtotal\r\n         \r\n     }\r\n"
                },
                {
                    "date": 1634461164860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,10 +70,10 @@\n     }\r\n     public function editcart(Request $request){\r\n         $myqty =  $request->myqty;\r\n         $myprice = $request->myqty;\r\n-        $mysellingprice = selliingprice,\r\n-        $mysubtotal = subtotal\r\n+        $mysellingprice = $request->myqty;\r\n+        $mysubtotal = $request->mysubtotal;\r\n         \r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634461182981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,11 +69,12 @@\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function editcart(Request $request){\r\n         $myqty =  $request->myqty;\r\n-        $myprice = $request->myqty;\r\n-        $mysellingprice = $request->myqty;\r\n+        $myprice = $request->myprice;\r\n+        $mysellingprice = $request->mysellingprice;\r\n         $mysubtotal = $request->mysubtotal;\r\n+        $cart = Cart::find($)\r\n         \r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634461203739,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,8 +69,9 @@\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function editcart(Request $request){\r\n         $myqty =  $request->myqty;\r\n+        $myqty =  $request->myqty;\r\n         $myprice = $request->myprice;\r\n         $mysellingprice = $request->mysellingprice;\r\n         $mysubtotal = $request->mysubtotal;\r\n         $cart = Cart::find($)\r\n"
                },
                {
                    "date": 1634461209397,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,10 +68,10 @@\n         $myproduct = Product::orderBy('kode','asc')->get();\r\n         return view('kasir', compact(\"myproduct\", \"mystring\", \"mytotal\" , \"myitemcount\"));\r\n     }\r\n     public function editcart(Request $request){\r\n+        $myid =  $request->myid;\r\n         $myqty =  $request->myqty;\r\n-        $myqty =  $request->myqty;\r\n         $myprice = $request->myprice;\r\n         $mysellingprice = $request->mysellingprice;\r\n         $mysubtotal = $request->mysubtotal;\r\n         $cart = Cart::find($)\r\n"
                },
                {
                    "date": 1634461220275,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n         $myqty =  $request->myqty;\r\n         $myprice = $request->myprice;\r\n         $mysellingprice = $request->mysellingprice;\r\n         $mysubtotal = $request->mysubtotal;\r\n-        $cart = Cart::find($)\r\n+        $cart = Cart::find($myid)\r\n         \r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634461227835,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,10 @@\n         $myqty =  $request->myqty;\r\n         $myprice = $request->myprice;\r\n         $mysellingprice = $request->mysellingprice;\r\n         $mysubtotal = $request->mysubtotal;\r\n-        $cart = Cart::find($myid)\r\n+        $cart = Cart::find($myid);\r\n+        $cart->\r\n         \r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634461239843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n         $myprice = $request->myprice;\r\n         $mysellingprice = $request->mysellingprice;\r\n         $mysubtotal = $request->mysubtotal;\r\n         $cart = Cart::find($myid);\r\n-        $cart->\r\n+        $cart->qty = $myqty;\r\n         \r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634461254081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,8 +75,9 @@\n         $mysellingprice = $request->mysellingprice;\r\n         $mysubtotal = $request->mysubtotal;\r\n         $cart = Cart::find($myid);\r\n         $cart->qty = $myqty;\r\n+        $cart->selling_price = $mysellingprice;\r\n         \r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634461286252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,8 +76,9 @@\n         $mysubtotal = $request->mysubtotal;\r\n         $cart = Cart::find($myid);\r\n         $cart->qty = $myqty;\r\n         $cart->selling_price = $mysellingprice;\r\n+        $cart->subtotal = $mysubtotal;\r\n         \r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634461291489,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,8 +77,9 @@\n         $cart = Cart::find($myid);\r\n         $cart->qty = $myqty;\r\n         $cart->selling_price = $mysellingprice;\r\n         $cart->subtotal = $mysubtotal;\r\n+        $cart->save();\r\n         \r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634464596251,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n         $mysellingprice = $request->mysellingprice;\r\n         $mysubtotal = $request->mysubtotal;\r\n         $cart = Cart::find($myid);\r\n         $cart->qty = $myqty;\r\n-        $cart->selling_price = $mysellingprice;\r\n+        $cart->selling_price = $myprice;\r\n         $cart->subtotal = $mysubtotal;\r\n         $cart->save();\r\n         \r\n     }\r\n"
                },
                {
                    "date": 1634464606796,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,8 @@\n     public function editcart(Request $request){\r\n         $myid =  $request->myid;\r\n         $myqty =  $request->myqty;\r\n         $myprice = $request->myprice;\r\n-        $mysellingprice = $request->mysellingprice;\r\n         $mysubtotal = $request->mysubtotal;\r\n         $cart = Cart::find($myid);\r\n         $cart->qty = $myqty;\r\n         $cart->selling_price = $myprice;\r\n"
                },
                {
                    "date": 1634465141780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,8 +108,37 @@\n               \r\n                ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n                ->make(true);\r\n     }\r\n+    public function getcart(){\r\n+      \r\n+        $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n+        return DataTables::of($mycart)\r\n+        ->editColumn('name', function($query) {\r\n+            return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n+        })\r\n+        ->editColumn('qty', function($query) {\r\n+            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\" id = \"seliingprice_'.$query->id.'\">';\r\n+        })\r\n+        ->editColumn('subtotal', function($query) {\r\n+            return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n+        })\r\n+        \r\n+        ->editColumn('action', function($query) {\r\n+            $mybutton = '\r\n+            <button type=\"button\" id = \"'.$query->id.'\" onclick = \"openmodaleditcustom(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+          \r\n+            return $mybutton;\r\n+        })\r\n+//         ->addColumn('action', \r\n+//                function ($query) {\r\n+//                 $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n+//                 return ' <a href = \"'.$myurls.'\"><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\"><i class=\"fas fa-server pr-2\"></i>Kelola</button></a>\r\n+//  ';})\r\n+              \r\n+               ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n+               ->make(true);\r\n+    }\r\n     public function createinvoice(Request $request){\r\n        $custname = $request->mycustomername;\r\n        $invoicenote = $request->myinvoicenote;\r\n        $checked = $request->mychecked;\r\n"
                },
                {
                    "date": 1634465147027,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         $cart->subtotal = $mysubtotal;\r\n         $cart->save();\r\n         \r\n     }\r\n-    public function getcart(){\r\n+    public function gettableproduct(){\r\n       \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n"
                },
                {
                    "date": 1634465192091,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n+        $mycart = Product::where('')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465223855,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = Product::where('')->select(\"cart.*\",'product.name')->get();\r\n+        $mycart = Product::where('stok', '>','0')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465228949,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = Product::where('stok', '>','0')->select(\"cart.*\",'product.name')->get();\r\n+        $mycart = Product::where('stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('name', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465244711,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n     public function gettableproduct(){\r\n       \r\n         $mycart = Product::where('stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n-        ->editColumn('name', function($query) {\r\n+        ->editColumn('kode', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('qty', function($query) {\r\n             return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\" id = \"seliingprice_'.$query->id.'\">';\r\n"
                },
                {
                    "date": 1634465257234,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,12 +84,12 @@\n       \r\n         $mycart = Product::where('stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n-            return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n+            return '<label id = \"name_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n-        ->editColumn('qty', function($query) {\r\n-            return '<label id = \"qty_'.$query->id.'\"> '.$query->qty.'</label>'.'<input type = \"hidden\" value = \"'.$query->selling_price.'\" id = \"seliingprice_'.$query->id.'\">';\r\n+        ->editColumn('kode', function($query) {\r\n+            return '<label id = \"name_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465262341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,10 +86,10 @@\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n-        ->editColumn('kode', function($query) {\r\n-            return '<label id = \"name_'.$query->id.'\"> '.$query->kode.'</label>';\r\n+        ->editColumn('harga1', function($query) {\r\n+            return '<label id = \"name_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465274720,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n         ->editColumn('harga1', function($query) {\r\n-            return '<label id = \"name_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n+            return '<label id = \"harga1_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465280037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,9 +90,9 @@\n         ->editColumn('harga1', function($query) {\r\n             return '<label id = \"harga1_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n-            return '<label id = \"subtotal_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n+            return '<label id = \"harga2_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n             $mybutton = '\r\n"
                },
                {
                    "date": 1634465286474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,8 +92,11 @@\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"harga2_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n+        ->editColumn('subtotal', function($query) {\r\n+            return '<label id = \"harga2_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n+        })\r\n         \r\n         ->editColumn('action', function($query) {\r\n             $mybutton = '\r\n             <button type=\"button\" id = \"'.$query->id.'\" onclick = \"openmodaleditcustom(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n"
                },
                {
                    "date": 1634465292513,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,10 +92,10 @@\n         })\r\n         ->editColumn('subtotal', function($query) {\r\n             return '<label id = \"harga2_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n-        ->editColumn('subtotal', function($query) {\r\n-            return '<label id = \"harga2_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n+        ->editColumn('harga3', function($query) {\r\n+            return '<label id = \"harga3_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n             $mybutton = '\r\n"
                },
                {
                    "date": 1634465300161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,10 +89,10 @@\n         })\r\n         ->editColumn('harga1', function($query) {\r\n             return '<label id = \"harga1_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n         })\r\n-        ->editColumn('subtotal', function($query) {\r\n-            return '<label id = \"harga2_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n+        ->editColumn('harga2', function($query) {\r\n+            return '<label id = \"harga2_'.$query->id.'\"> '.$query->harga2.'</label>';\r\n         })\r\n         ->editColumn('harga3', function($query) {\r\n             return '<label id = \"harga3_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465305383,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,9 @@\n         ->editColumn('harga2', function($query) {\r\n             return '<label id = \"harga2_'.$query->id.'\"> '.$query->harga2.'</label>';\r\n         })\r\n         ->editColumn('harga3', function($query) {\r\n-            return '<label id = \"harga3_'.$query->id.'\"> '.$query->subtotal.'</label>';\r\n+            return '<label id = \"harga3_'.$query->id.'\"> '.$query->harga3.'</label>';\r\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n             $mybutton = '\r\n"
                },
                {
                    "date": 1634465327655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,10 +97,9 @@\n             return '<label id = \"harga3_'.$query->id.'\"> '.$query->harga3.'</label>';\r\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n-            $mybutton = '\r\n-            <button type=\"button\" id = \"'.$query->id.'\" onclick = \"openmodaleditcustom(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+            $mybutton = '<button type=\"button\" id = \"b-{{$mp->id}}\" onclick = \"inputinterface(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-plus pl-2 pr-2\"></i></button>';\r\n           \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n"
                },
                {
                    "date": 1634465333499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n             return '<label id = \"harga3_'.$query->id.'\"> '.$query->harga3.'</label>';\r\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n-            $mybutton = '<button type=\"button\" id = \"b-{{$mp->id}}\" onclick = \"inputinterface(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-plus pl-2 pr-2\"></i></button>';\r\n+            $mybutton = '<button type=\"button\" id = \"'..'\" onclick = \"inputinterface(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-plus pl-2 pr-2\"></i></button>';\r\n           \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n"
                },
                {
                    "date": 1634465339184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n             return '<label id = \"harga3_'.$query->id.'\"> '.$query->harga3.'</label>';\r\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n-            $mybutton = '<button type=\"button\" id = \"'..'\" onclick = \"inputinterface(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-plus pl-2 pr-2\"></i></button>';\r\n+            $mybutton = '<button type=\"button\" id = \"'.$query->id.'\" onclick = \"inputinterface(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-plus pl-2 pr-2\"></i></button>';\r\n           \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n"
                },
                {
                    "date": 1634465355231,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -107,9 +107,9 @@\n //                 $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n //                 return ' <a href = \"'.$myurls.'\"><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\"><i class=\"fas fa-server pr-2\"></i>Kelola</button></a>\r\n //  ';})\r\n               \r\n-               ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n+               ->rawColumns(['action', 'kode', 'harga1', 'harga2', 'harga2'])\r\n                ->make(true);\r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634465543284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n             return '<label id = \"harga3_'.$query->id.'\"> '.$query->harga3.'</label>';\r\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n-            $mybutton = '<button type=\"button\" id = \"'.$query->id.'\" onclick = \"inputinterface(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-plus pl-2 pr-2\"></i></button>';\r\n+            $mybutton = '<button type=\"button\" id = \"add_'.$query->id.'\" onclick = \"inputinterface(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-plus pl-2 pr-2\"></i></button>';\r\n           \r\n             return $mybutton;\r\n         })\r\n //         ->addColumn('action', \r\n@@ -107,9 +107,9 @@\n //                 $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n //                 return ' <a href = \"'.$myurls.'\"><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\"><i class=\"fas fa-server pr-2\"></i>Kelola</button></a>\r\n //  ';})\r\n               \r\n-               ->rawColumns(['action', 'kode', 'harga1', 'harga2', 'harga2'])\r\n+               ->rawColumns(['action', 'kode', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634465633548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,12 +87,12 @@\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"name_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n         ->editColumn('harga1', function($query) {\r\n-            return '<label id = \"harga1_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n+            return '<label id = \"hargapertama_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n         })\r\n         ->editColumn('harga2', function($query) {\r\n-            return '<label id = \"harga2_'.$query->id.'\"> '.$query->harga2.'</label>';\r\n+            return '<label id = \"hargapertama_'.$query->id.'\"> '.$query->harga2.'</label>';\r\n         })\r\n         ->editColumn('harga3', function($query) {\r\n             return '<label id = \"harga3_'.$query->id.'\"> '.$query->harga3.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465641989,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,12 +90,12 @@\n         ->editColumn('harga1', function($query) {\r\n             return '<label id = \"hargapertama_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n         })\r\n         ->editColumn('harga2', function($query) {\r\n-            return '<label id = \"hargapertama_'.$query->id.'\"> '.$query->harga2.'</label>';\r\n+            return '<label id = \"hargakedua_'.$query->id.'\"> '.$query->harga2.'</label>';\r\n         })\r\n         ->editColumn('harga3', function($query) {\r\n-            return '<label id = \"harga3_'.$query->id.'\"> '.$query->harga3.'</label>';\r\n+            return '<label id = \"hargaketiga_'.$query->id.'\"> '.$query->harga3.'</label>';\r\n         })\r\n         \r\n         ->editColumn('action', function($query) {\r\n             $mybutton = '<button type=\"button\" id = \"add_'.$query->id.'\" onclick = \"inputinterface(this)\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#tambah\"><i class=\"fas fa-plus pl-2 pr-2\"></i></button>';\r\n"
                },
                {
                    "date": 1634465724768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n       \r\n         $mycart = Product::where('stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n-            return '<label id = \"name_'.$query->id.'\"> '.$query->kode.'</label>';\r\n+            return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n         ->editColumn('harga1', function($query) {\r\n             return '<label id = \"hargapertama_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465730055,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,8 +86,11 @@\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n+        ->editColumn('name', function($query) {\r\n+            return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n+        })\r\n         ->editColumn('harga1', function($query) {\r\n             return '<label id = \"hargapertama_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n         })\r\n         ->editColumn('harga2', function($query) {\r\n"
                },
                {
                    "date": 1634465736095,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n         ->editColumn('name', function($query) {\r\n-            return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n+            return '<label id = \"name_'.$query->id.'\"> '.$query->name.'</label>';\r\n         })\r\n         ->editColumn('harga1', function($query) {\r\n             return '<label id = \"hargapertama_'.$query->id.'\"> '.$query->harga1.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1634465776577,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -110,9 +110,9 @@\n //                 $myurls = url(\"/pricelist/indexpricelist\").\"/\".$query->id;\r\n //                 return ' <a href = \"'.$myurls.'\"><button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\"><i class=\"fas fa-server pr-2\"></i>Kelola</button></a>\r\n //  ';})\r\n               \r\n-               ->rawColumns(['action', 'kode', 'harga1', 'harga2', 'harga3'])\r\n+               ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getcart(){\r\n       \r\n"
                },
                {
                    "date": 1634466234636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,54 +195,54 @@\n            return \"noitem\";\r\n        }\r\n     }\r\n     public function addcart(Request $request){\r\n-        $myitemcount = 0;\r\n-        $mydatacart = $request->mydata;\r\n-        $mystring  = \"\";\r\n-        $alltotal = 0;\r\n-        if (session()->has('cart')) {\r\n-            $mycart = session()->get('cart');\r\n-            $myvaluesession = $mycart.\",\".$mydatacart;\r\n+        // $myitemcount = 0;\r\n+        // $mydatacart = $request->mydata;\r\n+        // $mystring  = \"\";\r\n+        // $alltotal = 0;\r\n+        // if (session()->has('cart')) {\r\n+        //     $mycart = session()->get('cart');\r\n+        //     $myvaluesession = $mycart.\",\".$mydatacart;\r\n             \r\n-            $myexplode = explode(\",\",$myvaluesession);\r\n-            $mystring = \"\";\r\n+        //     $myexplode = explode(\",\",$myvaluesession);\r\n+        //     $mystring = \"\";\r\n           \r\n-            for($i = 0 ; $i < count($myexplode); $i++)\r\n-            {\r\n-                $mybutton = '\r\n-                <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n+        //     for($i = 0 ; $i < count($myexplode); $i++)\r\n+        //     {\r\n+        //         $mybutton = '\r\n+        //         <button type=\"button\" class=\"btn waves-effect waves-light btn-sm btn-primary pr-2\" data-toggle=\"modal\" data-target=\"#edit\"><i class=\"fas fa-edit\"></i></button>';\r\n               \r\n-                $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n-                $namaitem = $explodeperitem[1];\r\n-                $qtyitem = $explodeperitem[2];\r\n-                $subtotal = $explodeperitem[3];\r\n-                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\".$mybutton.\"<td></tr>\";\r\n-                $alltotal += $subtotal;\r\n-                $myitemcount += $qtyitem;\r\n-            }\r\n-            session()->put('cart', $myvaluesession);\r\n-            session()->put('subtotalcart',$alltotal);\r\n-            session()->put('totalqty',$myitemcount);\r\n-        }\r\n-        else{\r\n-                $mysession = session()->put('cart', $mydatacart);\r\n-                $mycart = session()->get('cart');\r\n-                $explodeperitem = explode(\"||\",$mycart);\r\n-                $namaitem = $explodeperitem[1];\r\n-                $qtyitem = $explodeperitem[2];\r\n-                $subtotal = $explodeperitem[3];\r\n-                session()->put('subtotalcart',$subtotal);\r\n-                $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\".$mybutton.\"<td></tr>\";\r\n-                $alltotal = $subtotal;\r\n-                $myitemcount += $qtyitem;\r\n-                session()->put('totalqty',$myitemcount);\r\n-        }\r\n-        return response()->json([\r\n-            'mystring' => $mystring,\r\n-            'mytotalqty' => $myitemcount,\r\n-            'alltotal' => $alltotal\r\n-          ]);\r\n+        //         $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n+        //         $namaitem = $explodeperitem[1];\r\n+        //         $qtyitem = $explodeperitem[2];\r\n+        //         $subtotal = $explodeperitem[3];\r\n+        //         $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\".$mybutton.\"<td></tr>\";\r\n+        //         $alltotal += $subtotal;\r\n+        //         $myitemcount += $qtyitem;\r\n+        //     }\r\n+        //     session()->put('cart', $myvaluesession);\r\n+        //     session()->put('subtotalcart',$alltotal);\r\n+        //     session()->put('totalqty',$myitemcount);\r\n+        // }\r\n+        // else{\r\n+        //         $mysession = session()->put('cart', $mydatacart);\r\n+        //         $mycart = session()->get('cart');\r\n+        //         $explodeperitem = explode(\"||\",$mycart);\r\n+        //         $namaitem = $explodeperitem[1];\r\n+        //         $qtyitem = $explodeperitem[2];\r\n+        //         $subtotal = $explodeperitem[3];\r\n+        //         session()->put('subtotalcart',$subtotal);\r\n+        //         $mystring .= \"<tr><td>$namaitem</td><td>$qtyitem</td><td>$subtotal</td><td>\".$mybutton.\"<td></tr>\";\r\n+        //         $alltotal = $subtotal;\r\n+        //         $myitemcount += $qtyitem;\r\n+        //         session()->put('totalqty',$myitemcount);\r\n+        // }\r\n+        // return response()->json([\r\n+        //     'mystring' => $mystring,\r\n+        //     'mytotalqty' => $myitemcount,\r\n+        //     'alltotal' => $alltotal\r\n+        //   ]);\r\n         // return $mystring.\"~~~\".$alltotal;\r\n        \r\n     }\r\n     public function clearcart(){\r\n"
                },
                {
                    "date": 1634466270204,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,8 +195,13 @@\n            return \"noitem\";\r\n        }\r\n     }\r\n     public function addcart(Request $request){\r\n+        $myidproduct = $requestl\r\n+        $mypriceproduct : price,\r\n+        $myquantity : quantity,\r\n+        $mylastprice : hargaakhir\r\n+        \r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n         // $alltotal = 0;\r\n"
                },
                {
                    "date": 1634466279907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,12 +195,12 @@\n            return \"noitem\";\r\n        }\r\n     }\r\n     public function addcart(Request $request){\r\n-        $myidproduct = $requestl\r\n-        $mypriceproduct : price,\r\n-        $myquantity : quantity,\r\n-        $mylastprice : hargaakhir\r\n+        $myidproduct = $request->myidproduct;\r\n+        $mypriceproduct = $request->myidproduct;\r\n+        $myquantity = $request->myidproduct;\r\n+        $mylastprice = $request->myidproduct;\r\n         \r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n"
                },
                {
                    "date": 1634466285780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,11 +196,11 @@\n        }\r\n     }\r\n     public function addcart(Request $request){\r\n         $myidproduct = $request->myidproduct;\r\n-        $mypriceproduct = $request->myidproduct;\r\n-        $myquantity = $request->myidproduct;\r\n-        $mylastprice = $request->myidproduct;\r\n+        $mypriceproduct = $request->mypriceproduct;\r\n+        $myquantity = $request->myquantity;\r\n+        $mylastprice = $request->mylastprice;\r\n         \r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n"
                },
                {
                    "date": 1634466310991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,9 +199,13 @@\n         $myidproduct = $request->myidproduct;\r\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n-        \r\n+        $cart = Cart::find($myid);\r\n+        $cart->qty = $myqty;\r\n+        $cart->selling_price = $myprice;\r\n+        $cart->subtotal = $mysubtotal;\r\n+        $cart->save();\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n         // $alltotal = 0;\r\n"
                },
                {
                    "date": 1634466337773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,12 +200,9 @@\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myid);\r\n-        $cart->qty = $myqty;\r\n-        $cart->selling_price = $myprice;\r\n-        $cart->subtotal = $mysubtotal;\r\n-        $cart->save();\r\n+        $countdata = count($cart);\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n         // $alltotal = 0;\r\n"
                },
                {
                    "date": 1634466344486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,8 +201,11 @@\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myid);\r\n         $countdata = count($cart);\r\n+        if($countdata == 0){\r\n+            \r\n+        }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n         // $alltotal = 0;\r\n"
                },
                {
                    "date": 1634466398921,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -202,10 +202,17 @@\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myid);\r\n         $countdata = count($cart);\r\n         if($countdata == 0){\r\n-            \r\n+            $cart = Cart::find($myid);\r\n+            $cart->qty = $myqty;\r\n+            $cart->selling_price = $myprice;\r\n+            $cart->subtotal = $mysubtotal;\r\n+            $cart->save();\r\n         }\r\n+        else{\r\n+\r\n+        }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n         // $alltotal = 0;\r\n"
                },
                {
                    "date": 1634466413766,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -202,9 +202,9 @@\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myid);\r\n         $countdata = count($cart);\r\n         if($countdata == 0){\r\n-            $cart = Cart::find($myid);\r\n+            $mycart = new Cart;\r\n             $cart->qty = $myqty;\r\n             $cart->selling_price = $myprice;\r\n             $cart->subtotal = $mysubtotal;\r\n             $cart->save();\r\n"
                },
                {
                    "date": 1634466442940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -203,12 +203,13 @@\n         $cart = Cart::find($myid);\r\n         $countdata = count($cart);\r\n         if($countdata == 0){\r\n             $mycart = new Cart;\r\n-            $cart->qty = $myqty;\r\n-            $cart->selling_price = $myprice;\r\n-            $cart->subtotal = $mysubtotal;\r\n-            $cart->save();\r\n+            $mycart->\r\n+            $mycart->qty = $myqty;\r\n+            $mycart->selling_price = $myprice;\r\n+            $mycart->subtotal = $mysubtotal;\r\n+            $mycart->save();\r\n         }\r\n         else{\r\n \r\n         }\r\n"
                },
                {
                    "date": 1634466455391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -203,9 +203,9 @@\n         $cart = Cart::find($myid);\r\n         $countdata = count($cart);\r\n         if($countdata == 0){\r\n             $mycart = new Cart;\r\n-            $mycart->\r\n+            $mycart->idproduct = $myidproduct;\r\n             $mycart->qty = $myqty;\r\n             $mycart->selling_price = $myprice;\r\n             $mycart->subtotal = $mysubtotal;\r\n             $mycart->save();\r\n"
                },
                {
                    "date": 1634466460917,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -204,9 +204,9 @@\n         $countdata = count($cart);\r\n         if($countdata == 0){\r\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n-            $mycart->qty = $myqty;\r\n+            $mycart->qty = $myquantity;\r\n             $mycart->selling_price = $myprice;\r\n             $mycart->subtotal = $mysubtotal;\r\n             $mycart->save();\r\n         }\r\n"
                },
                {
                    "date": 1634466466125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -205,9 +205,9 @@\n         if($countdata == 0){\r\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n             $mycart->qty = $myquantity;\r\n-            $mycart->selling_price = $myprice;\r\n+            $mycart->selling_price = $mylastprice;\r\n             $mycart->subtotal = $mysubtotal;\r\n             $mycart->save();\r\n         }\r\n         else{\r\n"
                },
                {
                    "date": 1634466477424,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -205,9 +205,9 @@\n         if($countdata == 0){\r\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n             $mycart->qty = $myquantity;\r\n-            $mycart->selling_price = $mylastprice;\r\n+            $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mysubtotal;\r\n             $mycart->save();\r\n         }\r\n         else{\r\n"
                },
                {
                    "date": 1634466512174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -206,13 +206,13 @@\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n             $mycart->qty = $myquantity;\r\n             $mycart->selling_price = $mypriceproduct;\r\n-            $mycart->subtotal = $mysubtotal;\r\n+            $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n         }\r\n         else{\r\n-\r\n+            $cart->decrement('stok', $mythings);\r\n         }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n"
                },
                {
                    "date": 1634466546538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,9 +210,9 @@\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n         }\r\n         else{\r\n-            $cart->decrement('stok', $mythings);\r\n+            $cart->decrement('qty', $mythings);\r\n         }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n"
                },
                {
                    "date": 1634466556100,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,9 +210,9 @@\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n         }\r\n         else{\r\n-            $cart->decrement('qty', $mythings);\r\n+            $cart->increment('qty', $myquantity);\r\n         }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n"
                },
                {
                    "date": 1634466575246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -211,8 +211,9 @@\n             $mycart->save();\r\n         }\r\n         else{\r\n             $cart->increment('qty', $myquantity);\r\n+            $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n"
                },
                {
                    "date": 1634466716526,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,9 +199,9 @@\n         $myidproduct = $request->myidproduct;\r\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n-        $cart = Cart::find($myid);\r\n+        $cart = Cart::find($myidproduct);\r\n         $countdata = count($cart);\r\n         if($countdata == 0){\r\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n"
                },
                {
                    "date": 1634466732391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,9 +201,9 @@\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myidproduct);\r\n         $countdata = count($cart);\r\n-        if($countdata == 0){\r\n+        if(isset($cart)){\r\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n             $mycart->qty = $myquantity;\r\n             $mycart->selling_price = $mypriceproduct;\r\n"
                },
                {
                    "date": 1634466747899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,9 +200,9 @@\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myidproduct);\r\n-        $countdata = count($cart);\r\n+        // $countdata = count($cart);\r\n         if(isset($cart)){\r\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n             $mycart->qty = $myquantity;\r\n"
                },
                {
                    "date": 1634466802574,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,8 +200,9 @@\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myidproduct);\r\n+        \r\n         // $countdata = count($cart);\r\n         if(isset($cart)){\r\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n"
                },
                {
                    "date": 1634466810094,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,9 +200,9 @@\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myidproduct);\r\n-        \r\n+        return $cart;\r\n         // $countdata = count($cart);\r\n         if(isset($cart)){\r\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n"
                },
                {
                    "date": 1634466895524,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,22 +200,22 @@\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myidproduct);\r\n-        return $cart;\r\n+        return $cart->num_rows;\r\n         // $countdata = count($cart);\r\n-        if(isset($cart)){\r\n-            $mycart = new Cart;\r\n-            $mycart->idproduct = $myidproduct;\r\n-            $mycart->qty = $myquantity;\r\n-            $mycart->selling_price = $mypriceproduct;\r\n-            $mycart->subtotal = $mylastprice;\r\n-            $mycart->save();\r\n-        }\r\n-        else{\r\n-            $cart->increment('qty', $myquantity);\r\n-            $cart->save();\r\n-        }\r\n+        // if(isset($cart)){\r\n+        //     $mycart = new Cart;\r\n+        //     $mycart->idproduct = $myidproduct;\r\n+        //     $mycart->qty = $myquantity;\r\n+        //     $mycart->selling_price = $mypriceproduct;\r\n+        //     $mycart->subtotal = $mylastprice;\r\n+        //     $mycart->save();\r\n+        // }\r\n+        // else{\r\n+        //     $cart->increment('qty', $myquantity);\r\n+        //     $cart->save();\r\n+        // }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n         // $alltotal = 0;\r\n"
                },
                {
                    "date": 1634466944194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,9 +201,9 @@\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myidproduct);\r\n         return $cart->num_rows;\r\n-        // $countdata = count($cart);\r\n+        $countdata = $cart->count();\r\n         // if(isset($cart)){\r\n         //     $mycart = new Cart;\r\n         //     $mycart->idproduct = $myidproduct;\r\n         //     $mycart->qty = $myquantity;\r\n"
                },
                {
                    "date": 1634466950690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,10 +200,11 @@\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myidproduct);\r\n-        return $cart->num_rows;\r\n+    \r\n         $countdata = $cart->count();\r\n+        return $countdata;\r\n         // if(isset($cart)){\r\n         //     $mycart = new Cart;\r\n         //     $mycart->idproduct = $myidproduct;\r\n         //     $mycart->qty = $myquantity;\r\n"
                },
                {
                    "date": 1634467064535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,9 +201,9 @@\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myidproduct);\r\n     \r\n-        $countdata = $cart->count();\r\n+        // $countdata = $cart->count();\r\n         return $countdata;\r\n         // if(isset($cart)){\r\n         //     $mycart = new Cart;\r\n         //     $mycart->idproduct = $myidproduct;\r\n"
                },
                {
                    "date": 1634467069651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -202,21 +202,21 @@\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::find($myidproduct);\r\n     \r\n         // $countdata = $cart->count();\r\n-        return $countdata;\r\n-        // if(isset($cart)){\r\n-        //     $mycart = new Cart;\r\n-        //     $mycart->idproduct = $myidproduct;\r\n-        //     $mycart->qty = $myquantity;\r\n-        //     $mycart->selling_price = $mypriceproduct;\r\n-        //     $mycart->subtotal = $mylastprice;\r\n-        //     $mycart->save();\r\n-        // }\r\n-        // else{\r\n-        //     $cart->increment('qty', $myquantity);\r\n-        //     $cart->save();\r\n-        // }\r\n+        // return $countdata;\r\n+        if(isset($cart)){\r\n+            $mycart = new Cart;\r\n+            $mycart->idproduct = $myidproduct;\r\n+            $mycart->qty = $myquantity;\r\n+            $mycart->selling_price = $mypriceproduct;\r\n+            $mycart->subtotal = $mylastprice;\r\n+            $mycart->save();\r\n+        }\r\n+        else{\r\n+            $cart->increment('qty', $myquantity);\r\n+            $cart->save();\r\n+        }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n         // $alltotal = 0;\r\n"
                },
                {
                    "date": 1634467080868,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -203,9 +203,9 @@\n         $cart = Cart::find($myidproduct);\r\n     \r\n         // $countdata = $cart->count();\r\n         // return $countdata;\r\n-        if(isset($cart)){\r\n+        if($cart === null){\r\n             $mycart = new Cart;\r\n             $mycart->idproduct = $myidproduct;\r\n             $mycart->qty = $myquantity;\r\n             $mycart->selling_price = $mypriceproduct;\r\n"
                },
                {
                    "date": 1634467258760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,8 +212,9 @@\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n         }\r\n         else{\r\n+            $priceproduct = $cart[0]['']\r\n             $cart->increment('qty', $myquantity);\r\n             $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n"
                },
                {
                    "date": 1634467264098,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n         }\r\n         else{\r\n-            $priceproduct = $cart[0]['']\r\n+            $priceproduct = $cart[0]['selling_price'];\r\n             $cart->increment('qty', $myquantity);\r\n             $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n"
                },
                {
                    "date": 1634467274963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,8 +213,9 @@\n             $mycart->save();\r\n         }\r\n         else{\r\n             $priceproduct = $cart[0]['selling_price'];\r\n+            $myfixprice = $myquantity\r\n             $cart->increment('qty', $myquantity);\r\n             $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n"
                },
                {
                    "date": 1634467309036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,9 +213,9 @@\n             $mycart->save();\r\n         }\r\n         else{\r\n             $priceproduct = $cart[0]['selling_price'];\r\n-            $myfixprice = $myquantity\r\n+            $quantityproduct = $cart[0]['cart'];\r\n             $cart->increment('qty', $myquantity);\r\n             $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n"
                },
                {
                    "date": 1634467314647,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,9 +213,9 @@\n             $mycart->save();\r\n         }\r\n         else{\r\n             $priceproduct = $cart[0]['selling_price'];\r\n-            $quantityproduct = $cart[0]['cart'];\r\n+            $quantityproduct = $cart[0]['qty'];\r\n             $cart->increment('qty', $myquantity);\r\n             $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n"
                },
                {
                    "date": 1634467354788,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,9 +213,9 @@\n             $mycart->save();\r\n         }\r\n         else{\r\n             $priceproduct = $cart[0]['selling_price'];\r\n-            $quantityproduct = $cart[0]['qty'];\r\n+            $quantityproduct = parseInt($cart[0]['qty']) * $priceproduct;\r\n             $cart->increment('qty', $myquantity);\r\n             $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n"
                },
                {
                    "date": 1634467365953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,9 +213,9 @@\n             $mycart->save();\r\n         }\r\n         else{\r\n             $priceproduct = $cart[0]['selling_price'];\r\n-            $quantityproduct = parseInt($cart[0]['qty']) * $priceproduct;\r\n+            $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n             $cart->increment('qty', $myquantity);\r\n             $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n"
                },
                {
                    "date": 1634467394563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -215,8 +215,9 @@\n         else{\r\n             $priceproduct = $cart[0]['selling_price'];\r\n             $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n             $cart->increment('qty', $myquantity);\r\n+            $cart->subtotal = $mylastprice;\r\n             $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n"
                },
                {
                    "date": 1634467403758,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,11 +213,12 @@\n             $mycart->save();\r\n         }\r\n         else{\r\n             $priceproduct = $cart[0]['selling_price'];\r\n-            $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n+            // $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n             $cart->increment('qty', $myquantity);\r\n             $cart->subtotal = $mylastprice;\r\n+            $cart->subtotal = $mylastprice;\r\n             $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n"
                },
                {
                    "date": 1634467573692,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,14 +212,14 @@\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n         }\r\n         else{\r\n-            $priceproduct = $cart[0]['selling_price'];\r\n-            // $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n-            $cart->increment('qty', $myquantity);\r\n-            $cart->subtotal = $mylastprice;\r\n-            $cart->subtotal = $mylastprice;\r\n-            $cart->save();\r\n+            // $priceproduct = $cart[0]['selling_price'];\r\n+            // // $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n+            // $cart->increment('qty', $myquantity);\r\n+           \r\n+            // $cart->subtotal = $mylastprice;\r\n+            // $cart->save();\r\n         }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n"
                },
                {
                    "date": 1634467580349,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,16 +210,18 @@\n             $mycart->qty = $myquantity;\r\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n+            return \"ok\"\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n             // // $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n             // $cart->increment('qty', $myquantity);\r\n            \r\n             // $cart->subtotal = $mylastprice;\r\n             // $cart->save();\r\n+\r\n         }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n"
                },
                {
                    "date": 1634467587094,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,18 +210,18 @@\n             $mycart->qty = $myquantity;\r\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n-            return \"ok\"\r\n+            return \"ok\";\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n             // // $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n             // $cart->increment('qty', $myquantity);\r\n            \r\n             // $cart->subtotal = $mylastprice;\r\n             // $cart->save();\r\n-\r\n+            return \"exist\";\r\n         }\r\n         // $myitemcount = 0;\r\n         // $mydatacart = $request->mydata;\r\n         // $mystring  = \"\";\r\n"
                },
                {
                    "date": 1634467928166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,8 +210,10 @@\n             $mycart->qty = $myquantity;\r\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n+\r\n+            \r\n             return \"ok\";\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n"
                },
                {
                    "date": 1634467967170,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -211,9 +211,9 @@\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n \r\n-            \r\n+            $mydata = DB::table('')\r\n             return \"ok\";\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n"
                },
                {
                    "date": 1634467974181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,9 @@\n use App\\Models\\Invoice;\r\n use App\\Models\\Cart;\r\n use App\\Models\\InvoiceDetail;\r\n use DataTables;\r\n+use DB;\r\n \r\n class KasirController extends Controller\r\n {\r\n     /**\r\n@@ -211,9 +212,9 @@\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n \r\n-            $mydata = DB::table('')\r\n+            $mydata = DB::table('');\r\n             return \"ok\";\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n"
                },
                {
                    "date": 1634467996990,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n \r\n-            $mydata = DB::table('');\r\n+            $mydata = DB::table('cart');\r\n             return \"ok\";\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n"
                },
                {
                    "date": 1634468067012,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n \r\n-            $mydata = DB::table('cart');\r\n+            $mydata = DB::table('cart')->select(\"count(id) as jumlah, \");\r\n             return \"ok\";\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n"
                },
                {
                    "date": 1634468123359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n \r\n-            $mydata = DB::table('cart')->select(\"count(id) as jumlah, \");\r\n+            $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal \");\r\n             return \"ok\";\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n"
                },
                {
                    "date": 1634468129782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,9 +212,9 @@\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n \r\n-            $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal \");\r\n+            $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n             return \"ok\";\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n"
                },
                {
                    "date": 1634468143537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,9 +213,13 @@\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n \r\n             $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n-            return \"ok\";\r\n+               // return response()->json([\r\n+        //     'mystring' => $mystring,\r\n+        //     'mytotalqty' => $myitemcount,\r\n+        //     'alltotal' => $alltotal\r\n+        //   ]);\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n             // // $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n"
                },
                {
                    "date": 1634468152580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,13 +213,13 @@\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n \r\n             $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n-               // return response()->json([\r\n-        //     'mystring' => $mystring,\r\n-        //     'mytotalqty' => $myitemcount,\r\n-        //     'alltotal' => $alltotal\r\n-        //   ]);\r\n+               return response()->json([\r\n+            'myproducttype' => $mystring,\r\n+            'mytotalqty' => $myitemcount,\r\n+            'alltotal' => $alltotal\r\n+          ]);\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n             // // $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n"
                },
                {
                    "date": 1634468158951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -215,9 +215,9 @@\n \r\n             $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n                return response()->json([\r\n             'myproducttype' => $mystring,\r\n-            'mytotalqty' => $myitemcount,\r\n+            'myproductqty' => $myitemcount,\r\n             'alltotal' => $alltotal\r\n           ]);\r\n         }\r\n         else{\r\n"
                },
                {
                    "date": 1634468165249,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,9 +216,9 @@\n             $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n                return response()->json([\r\n             'myproducttype' => $mystring,\r\n             'myproductqty' => $myitemcount,\r\n-            'alltotal' => $alltotal\r\n+            'myproductgrantotal' => $alltotal\r\n           ]);\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n"
                },
                {
                    "date": 1634468173426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,9 @@\n             $mycart->save();\r\n \r\n             $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n                return response()->json([\r\n-            'myproducttype' => $mystring,\r\n+            'myproducttype' => $mydata[0],\r\n             'myproductqty' => $myitemcount,\r\n             'myproductgrantotal' => $alltotal\r\n           ]);\r\n         }\r\n"
                },
                {
                    "date": 1634468183146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,10 +214,10 @@\n             $mycart->save();\r\n \r\n             $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n                return response()->json([\r\n-            'myproducttype' => $mydata[0],\r\n-            'myproductqty' => $myitemcount,\r\n+            'myproducttype' => $mydata[0]['producttype'],\r\n+            'myproductqty' => $$mydata[0]['producttype'],\r\n             'myproductgrantotal' => $alltotal\r\n           ]);\r\n         }\r\n         else{\r\n"
                },
                {
                    "date": 1634468190616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -215,9 +215,9 @@\n \r\n             $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n                return response()->json([\r\n             'myproducttype' => $mydata[0]['producttype'],\r\n-            'myproductqty' => $$mydata[0]['producttype'],\r\n+            'myproductqty' => $mydata[0]['productqty'],\r\n             'myproductgrantotal' => $alltotal\r\n           ]);\r\n         }\r\n         else{\r\n"
                },
                {
                    "date": 1634468195830,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,9 +216,9 @@\n             $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n                return response()->json([\r\n             'myproducttype' => $mydata[0]['producttype'],\r\n             'myproductqty' => $mydata[0]['productqty'],\r\n-            'myproductgrantotal' => $alltotal\r\n+            'myproductgrantotal' => $mydata[0]['grandtotal']\r\n           ]);\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n"
                },
                {
                    "date": 1634468704503,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -114,8 +114,11 @@\n               \r\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n+    public function getsummary(){\r\n+        \r\n+    }\r\n     public function getcart(){\r\n       \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n         return DataTables::of($mycart)\r\n"
                },
                {
                    "date": 1634468713859,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,13 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        \r\n+          // return response()->json([\r\n+        //     'mystring' => $mystring,\r\n+        //     'mytotalqty' => $myitemcount,\r\n+        //     'alltotal' => $alltotal\r\n+        //   ]);\r\n     }\r\n     public function getcart(){\r\n       \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n"
                },
                {
                    "date": 1634468729106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,8 +115,14 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n+        $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n+        return response()->json([\r\n+     'myproducttype' => $mydata[0]['producttype'],\r\n+     'myproductqty' => $mydata[0]['productqty'],\r\n+     'myproductgrantotal' => $mydata[0]['grandtotal']\r\n+   ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n         //     'mytotalqty' => $myitemcount,\r\n         //     'alltotal' => $alltotal\r\n"
                },
                {
                    "date": 1634468981412,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n+        $mydata = DB::table('cart')->select(DB::raw('count(*) as user_count, status'))->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634468999353,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = DB::table('cart')->select(DB::raw('count(*) as user_count, status'))->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n+        $mydata = DB::table('cart')->select(DB::raw('count(*) as user_count, status')->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469005255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = DB::table('cart')->select(DB::raw('count(*) as user_count, status')->get();\r\n+        $mydata = DB::table('cart')->select(DB::raw('\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\"')->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469017595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = DB::table('cart')->select(DB::raw('\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\"')->get();\r\n+        $mydata = DB::table('cart')->select(DB::raw('count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal'))->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469084850,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = DB::table('cart')->select(DB::raw('count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal'))->get();\r\n+        $mydata = DB::table('cart')->select(array(DB::raw('count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal')))->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469112666,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = DB::table('cart')->select(array(DB::raw('count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal')))->get();\r\n+        $mydata = DB::table('cart')->select(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\")->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469136006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = DB::table('cart')->select(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\")->get();\r\n+        $mydata = Cart::select(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\")->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469164239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = Cart::select(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\")->get();\r\n+        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469302923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n+        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"SUM(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469330818,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"SUM(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n+        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469384167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n+        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"qty as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469393693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"qty as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n+        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469417067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -118,9 +118,9 @@\n     public function getsummary(){\r\n         $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n-     'myproductqty' => $mydata[0]['productqty'],\r\n+     'myproductqty' => $mydata[0]['sum(qty)'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n    ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n"
                },
                {
                    "date": 1634469431691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -118,9 +118,9 @@\n     public function getsummary(){\r\n         $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]['producttype'],\r\n-     'myproductqty' => $mydata[0]['sum(qty)'],\r\n+     'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n    ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n"
                },
                {
                    "date": 1634469443506,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,13 +116,14 @@\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n         $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n-        return response()->json([\r\n-     'myproducttype' => $mydata[0]['producttype'],\r\n-     'myproductqty' => $mydata[0]['productqty'],\r\n-     'myproductgrantotal' => $mydata[0]['grandtotal']\r\n-   ]);\r\n+        return $mydata;\r\n+//         return response()->json([\r\n+//      'myproducttype' => $mydata[0]['producttype'],\r\n+//      'myproductqty' => $mydata[0]['productqty'],\r\n+//      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n+//    ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n         //     'mytotalqty' => $myitemcount,\r\n         //     'alltotal' => $alltotal\r\n"
                },
                {
                    "date": 1634469483834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = Cart::select(DB::raw(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\"))->get();\r\n+        $mydata = Cart::select(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\")->get();\r\n         return $mydata;\r\n //         return response()->json([\r\n //      'myproducttype' => $mydata[0]['producttype'],\r\n //      'myproductqty' => $mydata[0]['productqty'],\r\n"
                },
                {
                    "date": 1634469533618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = Cart::select(\"count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\")->get();\r\n+        $mydata = db::select(\"select * count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\")->get();\r\n         return $mydata;\r\n //         return response()->json([\r\n //      'myproducttype' => $mydata[0]['producttype'],\r\n //      'myproductqty' => $mydata[0]['productqty'],\r\n"
                },
                {
                    "date": 1634469568245,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = db::select(\"select * count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal\")->get();\r\n+        $mydata = db::select(\"select * count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal from cart\");\r\n         return $mydata;\r\n //         return response()->json([\r\n //      'myproducttype' => $mydata[0]['producttype'],\r\n //      'myproductqty' => $mydata[0]['productqty'],\r\n"
                },
                {
                    "date": 1634469575717,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = db::select(\"select * count(id) as producttype\", \"sum(qty) as  productqty\", \"sum(subtotal) as grandtotal from cart\");\r\n+        $mydata = db::select(\"select * count(id) as producttype sum(qty) as  productqty\", \"sum(subtotal) as grandtotal from cart\");\r\n         return $mydata;\r\n //         return response()->json([\r\n //      'myproducttype' => $mydata[0]['producttype'],\r\n //      'myproductqty' => $mydata[0]['productqty'],\r\n"
                },
                {
                    "date": 1634469584101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = db::select(\"select * count(id) as producttype sum(qty) as  productqty\", \"sum(subtotal) as grandtotal from cart\");\r\n+        $mydata = db::select(\"select * count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n         return $mydata;\r\n //         return response()->json([\r\n //      'myproducttype' => $mydata[0]['producttype'],\r\n //      'myproductqty' => $mydata[0]['productqty'],\r\n"
                },
                {
                    "date": 1634469604224,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                ->rawColumns(['action', 'kode', 'name', 'harga1', 'harga2', 'harga3'])\r\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n-        $mydata = db::select(\"select * count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n+        $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n         return $mydata;\r\n //         return response()->json([\r\n //      'myproducttype' => $mydata[0]['producttype'],\r\n //      'myproductqty' => $mydata[0]['productqty'],\r\n"
                },
                {
                    "date": 1634469622978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,14 +116,14 @@\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n-        return $mydata;\r\n-//         return response()->json([\r\n-//      'myproducttype' => $mydata[0]['producttype'],\r\n-//      'myproductqty' => $mydata[0]['productqty'],\r\n-//      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n-//    ]);\r\n+        // return $mydata;\r\n+        return response()->json([\r\n+     'myproducttype' => $mydata[0]['producttype'],\r\n+     'myproductqty' => $mydata[0]['productqty'],\r\n+     'myproductgrantotal' => $mydata[0]['grandtotal']\r\n+   ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n         //     'mytotalqty' => $myitemcount,\r\n         //     'alltotal' => $alltotal\r\n"
                },
                {
                    "date": 1634469657661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -118,10 +118,10 @@\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n         // return $mydata;\r\n         return response()->json([\r\n-     'myproducttype' => $mydata[0]['producttype'],\r\n-     'myproductqty' => $mydata[0]['productqty'],\r\n+     'myproducttype' => $mydata['producttype'],\r\n+     'myproductqty' => $mydata['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n    ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n"
                },
                {
                    "date": 1634469667247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -118,10 +118,10 @@\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n         // return $mydata;\r\n         return response()->json([\r\n-     'myproducttype' => $mydata['producttype'],\r\n-     'myproductqty' => $mydata['productqty'],\r\n+     'myproducttype' => $mydata[0]['producttype'],\r\n+     'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n    ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n"
                },
                {
                    "date": 1634469672609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -118,9 +118,9 @@\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n         // return $mydata;\r\n         return response()->json([\r\n-     'myproducttype' => $mydata[0]['producttype'],\r\n+     'myproducttype' => $mydata[0]->'producttype',\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n    ]);\r\n           // return response()->json([\r\n"
                },
                {
                    "date": 1634469683977,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -118,9 +118,9 @@\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n         // return $mydata;\r\n         return response()->json([\r\n-     'myproducttype' => $mydata[0]->'producttype',\r\n+     'myproducttype' => $mydata[0]->producttype,\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n    ]);\r\n           // return response()->json([\r\n"
                },
                {
                    "date": 1634469694409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,11 +116,11 @@\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n-        // return $mydata;\r\n+        return $mydata;\r\n         return response()->json([\r\n-     'myproducttype' => $mydata[0]->producttype,\r\n+     'myproducttype' => $mydata[0]['producttype'],\r\n      'myproductqty' => $mydata[0]['productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n    ]);\r\n           // return response()->json([\r\n"
                },
                {
                    "date": 1634469724907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,14 +116,14 @@\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n-        return $mydata;\r\n-        return response()->json([\r\n-     'myproducttype' => $mydata[0]['producttype'],\r\n-     'myproductqty' => $mydata[0]['productqty'],\r\n-     'myproductgrantotal' => $mydata[0]['grandtotal']\r\n-   ]);\r\n+        return $mydata[0]->producttype;\r\n+//         return response()->json([\r\n+//      'myproducttype' => $mydata[0]['producttype'],\r\n+//      'myproductqty' => $mydata[0]['productqty'],\r\n+//      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n+//    ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n         //     'mytotalqty' => $myitemcount,\r\n         //     'alltotal' => $alltotal\r\n"
                },
                {
                    "date": 1634469732421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,9 +116,9 @@\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n-        return $mydata[0]->producttype;\r\n+        // return $mydata[0]->producttype;\r\n //         return response()->json([\r\n //      'myproducttype' => $mydata[0]['producttype'],\r\n //      'myproductqty' => $mydata[0]['productqty'],\r\n //      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n"
                },
                {
                    "date": 1634469744433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -118,12 +118,12 @@\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n         // return $mydata[0]->producttype;\r\n //         return response()->json([\r\n-//      'myproducttype' => $mydata[0]['producttype'],\r\n-//      'myproductqty' => $mydata[0]['productqty'],\r\n-//      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n-//    ]);\r\n+     'myproducttype' => $mydata[0]->producttype,\r\n+     'myproductqty' => $mydata[0]['productqty'],\r\n+     'myproductgrantotal' => $mydata[0]['grandtotal']\r\n+   ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n         //     'mytotalqty' => $myitemcount,\r\n         //     'alltotal' => $alltotal\r\n"
                },
                {
                    "date": 1634469749655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n         // return $mydata[0]->producttype;\r\n //         return response()->json([\r\n      'myproducttype' => $mydata[0]->producttype,\r\n-     'myproductqty' => $mydata[0]['productqty'],\r\n+     'myproductqty' => $mydata[0]->productqty'],\r\n      'myproductgrantotal' => $mydata[0]['grandtotal']\r\n    ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n"
                },
                {
                    "date": 1634469759202,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,12 +117,12 @@\n     }\r\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n         // return $mydata[0]->producttype;\r\n-//         return response()->json([\r\n+        return response()->json([\r\n      'myproducttype' => $mydata[0]->producttype,\r\n-     'myproductqty' => $mydata[0]->productqty'],\r\n-     'myproductgrantotal' => $mydata[0]['grandtotal']\r\n+     'myproductqty' => $mydata[0]->productqty,\r\n+     'myproductgrantotal' => $mydata[0]->grandtotal']\r\n    ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n         //     'mytotalqty' => $myitemcount,\r\n"
                },
                {
                    "date": 1634469765737,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n         // return $mydata[0]->producttype;\r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]->producttype,\r\n      'myproductqty' => $mydata[0]->productqty,\r\n-     'myproductgrantotal' => $mydata[0]->grandtotal']\r\n+     'myproductgrantotal' => $mydata[0]->grandtotal\r\n    ]);\r\n           // return response()->json([\r\n         //     'mystring' => $mystring,\r\n         //     'mytotalqty' => $myitemcount,\r\n"
                },
                {
                    "date": 1634469945229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,19 +116,15 @@\n                ->make(true);\r\n     }\r\n     public function getsummary(){\r\n         $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n-        // return $mydata[0]->producttype;\r\n+   \r\n         return response()->json([\r\n      'myproducttype' => $mydata[0]->producttype,\r\n      'myproductqty' => $mydata[0]->productqty,\r\n      'myproductgrantotal' => $mydata[0]->grandtotal\r\n    ]);\r\n-          // return response()->json([\r\n-        //     'mystring' => $mystring,\r\n-        //     'mytotalqty' => $myitemcount,\r\n-        //     'alltotal' => $alltotal\r\n-        //   ]);\r\n+\r\n     }\r\n     public function getcart(){\r\n       \r\n         $mycart = Cart::join(\"product\", 'product.id','=','cart.idproduct')->select(\"cart.*\",'product.name')->get();\r\n"
                },
                {
                    "date": 1634469955142,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,14 +222,15 @@\n             $mycart->selling_price = $mypriceproduct;\r\n             $mycart->subtotal = $mylastprice;\r\n             $mycart->save();\r\n \r\n-            $mydata = DB::table('cart')->select(\"count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal\")->get();\r\n-               return response()->json([\r\n-            'myproducttype' => $mydata[0]['producttype'],\r\n-            'myproductqty' => $mydata[0]['productqty'],\r\n-            'myproductgrantotal' => $mydata[0]['grandtotal']\r\n-          ]);\r\n+            $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n+   \r\n+            return response()->json([\r\n+         'myproducttype' => $mydata[0]->producttype,\r\n+         'myproductqty' => $mydata[0]->productqty,\r\n+         'myproductgrantotal' => $mydata[0]->grandtotal\r\n+       ]);\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n             // // $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n"
                },
                {
                    "date": 1634469969864,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,8 +78,15 @@\n         $cart->qty = $myqty;\r\n         $cart->selling_price = $myprice;\r\n         $cart->subtotal = $mysubtotal;\r\n         $cart->save();\r\n+        $mydata = db::select(\"select count(id) as producttype, sum(qty) as  productqty, sum(subtotal) as grandtotal from cart\");\r\n+   \r\n+        return response()->json([\r\n+     'myproducttype' => $mydata[0]->producttype,\r\n+     'myproductqty' => $mydata[0]->productqty,\r\n+     'myproductgrantotal' => $mydata[0]->grandtotal\r\n+   ]);\r\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n@@ -228,9 +235,9 @@\n             return response()->json([\r\n          'myproducttype' => $mydata[0]->producttype,\r\n          'myproductqty' => $mydata[0]->productqty,\r\n          'myproductgrantotal' => $mydata[0]->grandtotal\r\n-       ]);\r\n+              ]);\r\n         }\r\n         else{\r\n             // $priceproduct = $cart[0]['selling_price'];\r\n             // // $lastprice = parseInt($cart[0]['qty']) * $priceproduct;\r\n"
                },
                {
                    "date": 1634470371433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -217,9 +217,9 @@\n         $myidproduct = $request->myidproduct;\r\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n-        $cart = Cart::find($myidproduct);\r\n+        $cart = Cart::where($myidproduct);\r\n     \r\n         // $countdata = $cart->count();\r\n         // return $countdata;\r\n         if($cart === null){\r\n"
                },
                {
                    "date": 1634470384824,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -217,9 +217,9 @@\n         $myidproduct = $request->myidproduct;\r\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n-        $cart = Cart::where($myidproduct);\r\n+        $cart = Cart::where('idproduct',$myidproduct);\r\n     \r\n         // $countdata = $cart->count();\r\n         // return $countdata;\r\n         if($cart === null){\r\n"
                },
                {
                    "date": 1634470395003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -217,9 +217,9 @@\n         $myidproduct = $request->myidproduct;\r\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n-        $cart = Cart::where('idproduct',$myidproduct);\r\n+        $cart = Cart::where('idproduct','=',$myidproduct);\r\n     \r\n         // $countdata = $cart->count();\r\n         // return $countdata;\r\n         if($cart === null){\r\n"
                },
                {
                    "date": 1634470490189,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -218,9 +218,9 @@\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::where('idproduct','=',$myidproduct);\r\n-    \r\n+        return $cart;\r\n         // $countdata = $cart->count();\r\n         // return $countdata;\r\n         if($cart === null){\r\n             $mycart = new Cart;\r\n"
                },
                {
                    "date": 1634470556816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -217,9 +217,9 @@\n         $myidproduct = $request->myidproduct;\r\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n-        $cart = Cart::where('idproduct','=',$myidproduct);\r\n+        $cart = Cart::where('idproduct','=',$myidproduct)->get();\r\n         return $cart;\r\n         // $countdata = $cart->count();\r\n         // return $countdata;\r\n         if($cart === null){\r\n"
                },
                {
                    "date": 1634470636977,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -217,9 +217,9 @@\n         $myidproduct = $request->myidproduct;\r\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n-        $cart = Cart::where('idproduct','=',$myidproduct)->get();\r\n+        $cart = Cart::where('idproduct','=',$myidproduct)->first();\r\n         return $cart;\r\n         // $countdata = $cart->count();\r\n         // return $countdata;\r\n         if($cart === null){\r\n"
                },
                {
                    "date": 1634470690117,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -218,9 +218,9 @@\n         $mypriceproduct = $request->mypriceproduct;\r\n         $myquantity = $request->myquantity;\r\n         $mylastprice = $request->mylastprice;\r\n         $cart = Cart::where('idproduct','=',$myidproduct)->first();\r\n-        return $cart;\r\n+        // return $cart;\r\n         // $countdata = $cart->count();\r\n         // return $countdata;\r\n         if($cart === null){\r\n             $mycart = new Cart;\r\n"
                },
                {
                    "date": 1634472436487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,58 +161,58 @@\n                ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n                ->make(true);\r\n     }\r\n     public function createinvoice(Request $request){\r\n-       $custname = $request->mycustomername;\r\n-       $invoicenote = $request->myinvoicenote;\r\n-       $checked = $request->mychecked;\r\n-       $cost = $request->mycost;\r\n-       $paymentmethod = $request->mymethod;\r\n+    //    $custname = $request->mycustomername;\r\n+    //    $invoicenote = $request->myinvoicenote;\r\n+    //    $checked = $request->mychecked;\r\n+    //    $cost = $request->mycost;\r\n+    //    $paymentmethod = $request->mymethod;\r\n \r\n-       if (session()->has('cart')) \r\n-       {\r\n+    //    if (session()->has('cart')) \r\n+    //    {\r\n \r\n            \r\n-            $mycart = session()->get('cart');\r\n+    //         $mycart = session()->get('cart');\r\n         \r\n-            date_default_timezone_set('Asia/Jakarta');\r\n-            $mydate = date(\"Y-m-d\");\r\n-            $invoice = new Invoice;\r\n-            $invoice->transaction_no = \"txx\";\r\n-            $invoice->transaction_date = $mydate;\r\n-            $invoice->transaction_method = $paymentmethod;\r\n-            $invoice->transaction_shipment_delivery = $checked;\r\n-            $invoice->transaction_shipment_delivery_cost = $cost;\r\n-            $invoice->transaction_customer = $custname;\r\n-            $invoice->transaction_note = $invoicenote;\r\n-            $invoice->qty_item = session()->get('totalqty');\r\n-            $invoice->total = session()->get('subtotalcart');\r\n-            $invoice->save(); \r\n-            $myinvoiceid = $invoice->id;\r\n-            $myexplode = explode(\",\",$mycart);\r\n-            for($i = 0 ; $i < count($myexplode); $i++)\r\n-            {\r\n-                $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n-                $iditem = $explodeperitem[0];\r\n-                $namaitem = $explodeperitem[1];\r\n-                $qtyitem = $explodeperitem[2];\r\n-                $subtotal = $explodeperitem[3];\r\n-                $invoice_detail = new InvoiceDetail;\r\n-                $invoice_detail->idproduct = $iditem;\r\n-                $invoice_detail->idtransaction = $myinvoiceid;\r\n-                $invoice_detail->qty = $qtyitem;\r\n-                $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n-                $invoice_detail->subtotal = $subtotal;\r\n-                $invoice_detail->save();\r\n-            }\r\n+    //         date_default_timezone_set('Asia/Jakarta');\r\n+    //         $mydate = date(\"Y-m-d\");\r\n+    //         $invoice = new Invoice;\r\n+    //         $invoice->transaction_no = \"txx\";\r\n+    //         $invoice->transaction_date = $mydate;\r\n+    //         $invoice->transaction_method = $paymentmethod;\r\n+    //         $invoice->transaction_shipment_delivery = $checked;\r\n+    //         $invoice->transaction_shipment_delivery_cost = $cost;\r\n+    //         $invoice->transaction_customer = $custname;\r\n+    //         $invoice->transaction_note = $invoicenote;\r\n+    //         $invoice->qty_item = session()->get('totalqty');\r\n+    //         $invoice->total = session()->get('subtotalcart');\r\n+    //         $invoice->save(); \r\n+    //         $myinvoiceid = $invoice->id;\r\n+    //         $myexplode = explode(\",\",$mycart);\r\n+    //         for($i = 0 ; $i < count($myexplode); $i++)\r\n+    //         {\r\n+    //             $explodeperitem = explode(\"||\",$myexplode[$i]);\r\n+    //             $iditem = $explodeperitem[0];\r\n+    //             $namaitem = $explodeperitem[1];\r\n+    //             $qtyitem = $explodeperitem[2];\r\n+    //             $subtotal = $explodeperitem[3];\r\n+    //             $invoice_detail = new InvoiceDetail;\r\n+    //             $invoice_detail->idproduct = $iditem;\r\n+    //             $invoice_detail->idtransaction = $myinvoiceid;\r\n+    //             $invoice_detail->qty = $qtyitem;\r\n+    //             $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n+    //             $invoice_detail->subtotal = $subtotal;\r\n+    //             $invoice_detail->save();\r\n+    //         }\r\n \r\n-            Session::forget('cart');\r\n-            Session::forget('subtotalcart');\r\n-            Session::forget('totalqty');\r\n-       }\r\n-       else{\r\n-           return \"noitem\";\r\n-       }\r\n+    //         Session::forget('cart');\r\n+    //         Session::forget('subtotalcart');\r\n+    //         Session::forget('totalqty');\r\n+    //    }\r\n+    //    else{\r\n+    //        return \"noitem\";\r\n+    //    }\r\n     }\r\n     public function addcart(Request $request){\r\n         $myidproduct = $request->myidproduct;\r\n         $mypriceproduct = $request->mypriceproduct;\r\n"
                },
                {
                    "date": 1634472482697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,8 +161,20 @@\n                ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n                ->make(true);\r\n     }\r\n     public function createinvoice(Request $request){\r\n+                $invoice = new Invoice;\r\n+            $invoice->transaction_no = \"txx\";\r\n+            $invoice->transaction_date = $mydate;\r\n+            $invoice->transaction_method = $paymentmethod;\r\n+            $invoice->transaction_shipment_delivery = $checked;\r\n+            $invoice->transaction_shipment_delivery_cost = $cost;\r\n+            $invoice->transaction_customer = $custname;\r\n+            $invoice->transaction_note = $invoicenote;\r\n+            $invoice->qty_item = session()->get('totalqty');\r\n+            $invoice->total = session()->get('subtotalcart');\r\n+            $invoice->save(); \r\n+            $myinvoiceid = $invoice->id;\r\n     //    $custname = $request->mycustomername;\r\n     //    $invoicenote = $request->myinvoicenote;\r\n     //    $checked = $request->mychecked;\r\n     //    $cost = $request->mycost;\r\n"
                },
                {
                    "date": 1634472500035,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,20 +161,20 @@\n                ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n                ->make(true);\r\n     }\r\n     public function createinvoice(Request $request){\r\n-                $invoice = new Invoice;\r\n-            $invoice->transaction_no = \"txx\";\r\n-            $invoice->transaction_date = $mydate;\r\n-            $invoice->transaction_method = $paymentmethod;\r\n-            $invoice->transaction_shipment_delivery = $checked;\r\n-            $invoice->transaction_shipment_delivery_cost = $cost;\r\n-            $invoice->transaction_customer = $custname;\r\n-            $invoice->transaction_note = $invoicenote;\r\n-            $invoice->qty_item = session()->get('totalqty');\r\n-            $invoice->total = session()->get('subtotalcart');\r\n-            $invoice->save(); \r\n-            $myinvoiceid = $invoice->id;\r\n+            // $invoice = new Invoice;\r\n+            // $invoice->transaction_no = \"txx\";\r\n+            // $invoice->transaction_date = $mydate;\r\n+            // $invoice->transaction_method = $paymentmethod;\r\n+            // $invoice->transaction_shipment_delivery = $checked;\r\n+            // $invoice->transaction_shipment_delivery_cost = $cost;\r\n+            // $invoice->transaction_customer = $custname;\r\n+            // $invoice->transaction_note = $invoicenote;\r\n+            // $invoice->qty_item = session()->get('totalqty');\r\n+            // $invoice->total = session()->get('subtotalcart');\r\n+            // $invoice->save(); \r\n+            // $myinvoiceid = $invoice->id;\r\n     //    $custname = $request->mycustomername;\r\n     //    $invoicenote = $request->myinvoicenote;\r\n     //    $checked = $request->mychecked;\r\n     //    $cost = $request->mycost;\r\n"
                },
                {
                    "date": 1634472516560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,8 +161,13 @@\n                ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n                ->make(true);\r\n     }\r\n     public function createinvoice(Request $request){\r\n+         //    $custname = $request->mycustomername;\r\n+    //    $invoicenote = $request->myinvoicenote;\r\n+    //    $checked = $request->mychecked;\r\n+    //    $cost = $request->mycost;\r\n+    //    $paymentmethod = $request->mymethod;\r\n             // $invoice = new Invoice;\r\n             // $invoice->transaction_no = \"txx\";\r\n             // $invoice->transaction_date = $mydate;\r\n             // $invoice->transaction_method = $paymentmethod;\r\n@@ -173,13 +178,9 @@\n             // $invoice->qty_item = session()->get('totalqty');\r\n             // $invoice->total = session()->get('subtotalcart');\r\n             // $invoice->save(); \r\n             // $myinvoiceid = $invoice->id;\r\n-    //    $custname = $request->mycustomername;\r\n-    //    $invoicenote = $request->myinvoicenote;\r\n-    //    $checked = $request->mychecked;\r\n-    //    $cost = $request->mycost;\r\n-    //    $paymentmethod = $request->mymethod;\r\n+   \r\n \r\n     //    if (session()->has('cart')) \r\n     //    {\r\n \r\n"
                },
                {
                    "date": 1634472521794,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,13 +161,13 @@\n                ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n                ->make(true);\r\n     }\r\n     public function createinvoice(Request $request){\r\n-         //    $custname = $request->mycustomername;\r\n-    //    $invoicenote = $request->myinvoicenote;\r\n-    //    $checked = $request->mychecked;\r\n-    //    $cost = $request->mycost;\r\n-    //    $paymentmethod = $request->mymethod;\r\n+       $custname = $request->mycustomername;\r\n+       $invoicenote = $request->myinvoicenote;\r\n+       $checked = $request->mychecked;\r\n+       $cost = $request->mycost;\r\n+       $paymentmethod = $request->mymethod;\r\n             // $invoice = new Invoice;\r\n             // $invoice->transaction_no = \"txx\";\r\n             // $invoice->transaction_date = $mydate;\r\n             // $invoice->transaction_method = $paymentmethod;\r\n"
                },
                {
                    "date": 1634472531291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -166,30 +166,29 @@\n        $invoicenote = $request->myinvoicenote;\r\n        $checked = $request->mychecked;\r\n        $cost = $request->mycost;\r\n        $paymentmethod = $request->mymethod;\r\n-            // $invoice = new Invoice;\r\n-            // $invoice->transaction_no = \"txx\";\r\n-            // $invoice->transaction_date = $mydate;\r\n-            // $invoice->transaction_method = $paymentmethod;\r\n-            // $invoice->transaction_shipment_delivery = $checked;\r\n-            // $invoice->transaction_shipment_delivery_cost = $cost;\r\n-            // $invoice->transaction_customer = $custname;\r\n-            // $invoice->transaction_note = $invoicenote;\r\n-            // $invoice->qty_item = session()->get('totalqty');\r\n-            // $invoice->total = session()->get('subtotalcart');\r\n-            // $invoice->save(); \r\n-            // $myinvoiceid = $invoice->id;\r\n+            $invoice = new Invoice;\r\n+            $invoice->transaction_no = \"txx\";\r\n+            $invoice->transaction_date = $mydate;\r\n+            $invoice->transaction_method = $paymentmethod;\r\n+            $invoice->transaction_shipment_delivery = $checked;\r\n+            $invoice->transaction_shipment_delivery_cost = $cost;\r\n+            $invoice->transaction_customer = $custname;\r\n+            $invoice->transaction_note = $invoicenote;\r\n+            $invoice->qty_item = session()->get('totalqty');\r\n+            $invoice->total = session()->get('subtotalcart');\r\n+            $invoice->save(); \r\n+            $myinvoiceid = $invoice->id;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n     //    {\r\n \r\n            \r\n     //         $mycart = session()->get('cart');\r\n         \r\n-    //         date_default_timezone_set('Asia/Jakarta');\r\n-    //         $mydate = date(\"Y-m-d\");\r\n+ \r\n     //         $invoice = new Invoice;\r\n     //         $invoice->transaction_no = \"txx\";\r\n     //         $invoice->transaction_date = $mydate;\r\n     //         $invoice->transaction_method = $paymentmethod;\r\n"
                },
                {
                    "date": 1634472537500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,8 +161,10 @@\n                ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n                ->make(true);\r\n     }\r\n     public function createinvoice(Request $request){\r\n+                   date_default_timezone_set('Asia/Jakarta');\r\n+            $mydate = date(\"Y-m-d\");\r\n        $custname = $request->mycustomername;\r\n        $invoicenote = $request->myinvoicenote;\r\n        $checked = $request->mychecked;\r\n        $cost = $request->mycost;\r\n"
                },
                {
                    "date": 1634472544795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,10 +161,10 @@\n                ->rawColumns(['action', 'name', 'qty', 'subtotal'])\r\n                ->make(true);\r\n     }\r\n     public function createinvoice(Request $request){\r\n-                   date_default_timezone_set('Asia/Jakarta');\r\n-            $mydate = date(\"Y-m-d\");\r\n+        date_default_timezone_set('Asia/Jakarta');\r\n+       $mydate = date(\"Y-m-d\");\r\n        $custname = $request->mycustomername;\r\n        $invoicenote = $request->myinvoicenote;\r\n        $checked = $request->mychecked;\r\n        $cost = $request->mycost;\r\n"
                },
                {
                    "date": 1634472712576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -168,8 +168,9 @@\n        $invoicenote = $request->myinvoicenote;\r\n        $checked = $request->mychecked;\r\n        $cost = $request->mycost;\r\n        $paymentmethod = $request->mymethod;\r\n+       $mygrandtotal = $request->mygrandtotals;\r\n             $invoice = new Invoice;\r\n             $invoice->transaction_no = \"txx\";\r\n             $invoice->transaction_date = $mydate;\r\n             $invoice->transaction_method = $paymentmethod;\r\n"
                },
                {
                    "date": 1634472722939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -178,9 +178,9 @@\n             $invoice->transaction_shipment_delivery_cost = $cost;\r\n             $invoice->transaction_customer = $custname;\r\n             $invoice->transaction_note = $invoicenote;\r\n             $invoice->qty_item = session()->get('totalqty');\r\n-            $invoice->total = session()->get('subtotalcart');\r\n+            $invoice->total = $mygrandtotal;\r\n             $invoice->save(); \r\n             $myinvoiceid = $invoice->id;\r\n    \r\n \r\n"
                },
                {
                    "date": 1634472757167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -167,8 +167,9 @@\n        $custname = $request->mycustomername;\r\n        $invoicenote = $request->myinvoicenote;\r\n        $checked = $request->mychecked;\r\n        $cost = $request->mycost;\r\n+       $myqty = $request->myqty;\r\n        $paymentmethod = $request->mymethod;\r\n        $mygrandtotal = $request->mygrandtotals;\r\n             $invoice = new Invoice;\r\n             $invoice->transaction_no = \"txx\";\r\n"
                },
                {
                    "date": 1634472762694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -178,9 +178,9 @@\n             $invoice->transaction_shipment_delivery = $checked;\r\n             $invoice->transaction_shipment_delivery_cost = $cost;\r\n             $invoice->transaction_customer = $custname;\r\n             $invoice->transaction_note = $invoicenote;\r\n-            $invoice->qty_item = session()->get('totalqty');\r\n+            $invoice->qty_item = $myqty;\r\n             $invoice->total = $mygrandtotal;\r\n             $invoice->save(); \r\n             $myinvoiceid = $invoice->id;\r\n    \r\n"
                },
                {
                    "date": 1634472808156,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,9 +180,9 @@\n             $invoice->transaction_customer = $custname;\r\n             $invoice->transaction_note = $invoicenote;\r\n             $invoice->qty_item = $myqty;\r\n             $invoice->total = $mygrandtotal;\r\n-            $invoice->save(); \r\n+            // $invoice->save(); \r\n             $myinvoiceid = $invoice->id;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634472820862,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,8 +182,9 @@\n             $invoice->qty_item = $myqty;\r\n             $invoice->total = $mygrandtotal;\r\n             // $invoice->save(); \r\n             $myinvoiceid = $invoice->id;\r\n+            return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n     //    {\r\n"
                },
                {
                    "date": 1634473059446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,9 +180,9 @@\n             $invoice->transaction_customer = $custname;\r\n             $invoice->transaction_note = $invoicenote;\r\n             $invoice->qty_item = $myqty;\r\n             $invoice->total = $mygrandtotal;\r\n-            // $invoice->save(); \r\n+            $invoice->save(); \r\n             $myinvoiceid = $invoice->id;\r\n             return $myqty;\r\n    \r\n \r\n"
                },
                {
                    "date": 1634473131451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,9 +182,10 @@\n             $invoice->qty_item = $myqty;\r\n             $invoice->total = $mygrandtotal;\r\n             $invoice->save(); \r\n             $myinvoiceid = $invoice->id;\r\n-            return $myqty;\r\n+            return \"test\";\r\n+            // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n     //    {\r\n"
                },
                {
                    "date": 1634473720603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,9 +182,9 @@\n             $invoice->qty_item = $myqty;\r\n             $invoice->total = $mygrandtotal;\r\n             $invoice->save(); \r\n             $myinvoiceid = $invoice->id;\r\n-            return \"test\";\r\n+    \r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473749630,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,9 +182,9 @@\n             $invoice->qty_item = $myqty;\r\n             $invoice->total = $mygrandtotal;\r\n             $invoice->save(); \r\n             $myinvoiceid = $invoice->id;\r\n-    \r\n+            \r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473791726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -170,21 +170,25 @@\n        $cost = $request->mycost;\r\n        $myqty = $request->myqty;\r\n        $paymentmethod = $request->mymethod;\r\n        $mygrandtotal = $request->mygrandtotals;\r\n-            $invoice = new Invoice;\r\n-            $invoice->transaction_no = \"txx\";\r\n-            $invoice->transaction_date = $mydate;\r\n-            $invoice->transaction_method = $paymentmethod;\r\n-            $invoice->transaction_shipment_delivery = $checked;\r\n-            $invoice->transaction_shipment_delivery_cost = $cost;\r\n-            $invoice->transaction_customer = $custname;\r\n-            $invoice->transaction_note = $invoicenote;\r\n-            $invoice->qty_item = $myqty;\r\n-            $invoice->total = $mygrandtotal;\r\n-            $invoice->save(); \r\n-            $myinvoiceid = $invoice->id;\r\n-            \r\n+       \r\n+       //invoice\r\n+       $invoice = new Invoice;\r\n+        $invoice->transaction_no = \"txx\";\r\n+        $invoice->transaction_date = $mydate;\r\n+        $invoice->transaction_method = $paymentmethod;\r\n+        $invoice->transaction_shipment_delivery = $checked;\r\n+        $invoice->transaction_shipment_delivery_cost = $cost;\r\n+        $invoice->transaction_customer = $custname;\r\n+        $invoice->transaction_note = $invoicenote;\r\n+        $invoice->qty_item = $myqty;\r\n+        $invoice->total = $mygrandtotal;\r\n+        $invoice->save(); \r\n+        $myinvoiceid = $invoice->id;\r\n+\r\n+        // Cart\r\n+        $mycart = Cart::\r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473801446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -186,9 +186,9 @@\n         $invoice->save(); \r\n         $myinvoiceid = $invoice->id;\r\n \r\n         // Cart\r\n-        $mycart = Cart::\r\n+        $mycart = Cart::all();\r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473811625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -187,8 +187,10 @@\n         $myinvoiceid = $invoice->id;\r\n \r\n         // Cart\r\n         $mycart = Cart::all();\r\n+\r\n+        // \r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473825192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -188,9 +188,10 @@\n \r\n         // Cart\r\n         $mycart = Cart::all();\r\n \r\n-        // \r\n+        // Invoice Detail\r\n+        $invoicedetail\r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473836612,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,9 +189,9 @@\n         // Cart\r\n         $mycart = Cart::all();\r\n \r\n         // Invoice Detail\r\n-        $invoicedetail\r\n+        $invoicedetail = \r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473841753,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,9 +189,9 @@\n         // Cart\r\n         $mycart = Cart::all();\r\n \r\n         // Invoice Detail\r\n-        $invoicedetail = \r\n+        $invoicedetail = InvoiceDetail::\r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473850978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,9 +189,15 @@\n         // Cart\r\n         $mycart = Cart::all();\r\n \r\n         // Invoice Detail\r\n-        $invoicedetail = InvoiceDetail::\r\n+        //             $invoice_detail = new InvoiceDetail;\r\n+    //             $invoice_detail->idproduct = $iditem;\r\n+    //             $invoice_detail->idtransaction = $myinvoiceid;\r\n+    //             $invoice_detail->qty = $qtyitem;\r\n+    //             $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n+    //             $invoice_detail->subtotal = $subtotal;\r\n+    //             $invoice_detail->save();\r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473858927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,15 +189,15 @@\n         // Cart\r\n         $mycart = Cart::all();\r\n \r\n         // Invoice Detail\r\n-        //             $invoice_detail = new InvoiceDetail;\r\n-    //             $invoice_detail->idproduct = $iditem;\r\n-    //             $invoice_detail->idtransaction = $myinvoiceid;\r\n-    //             $invoice_detail->qty = $qtyitem;\r\n-    //             $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n-    //             $invoice_detail->subtotal = $subtotal;\r\n-    //             $invoice_detail->save();\r\n+        $invoice_detail = new InvoiceDetail;\r\n+        $invoice_detail->idproduct = $iditem;\r\n+        $invoice_detail->idtransaction = $myinvoiceid;\r\n+        $invoice_detail->qty = $qtyitem;\r\n+        $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n+        $invoice_detail->subtotal = $subtotal;\r\n+        $invoice_detail->save();\r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473899813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,8 +189,12 @@\n         // Cart\r\n         $mycart = Cart::all();\r\n \r\n         // Invoice Detail\r\n+        for($i = 0 ; $i < count($mycart) ; $i++)\r\n+        {\r\n+            \r\n+        }\r\n         $invoice_detail = new InvoiceDetail;\r\n         $invoice_detail->idproduct = $iditem;\r\n         $invoice_detail->idtransaction = $myinvoiceid;\r\n         $invoice_detail->qty = $qtyitem;\r\n"
                },
                {
                    "date": 1634473904952,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,17 +191,17 @@\n \r\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n-            \r\n+            $invoice_detail = new InvoiceDetail;\r\n+            $invoice_detail->idproduct = $iditem;\r\n+            $invoice_detail->idtransaction = $myinvoiceid;\r\n+            $invoice_detail->qty = $qtyitem;\r\n+            $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n+            $invoice_detail->subtotal = $subtotal;\r\n+            $invoice_detail->save();\r\n         }\r\n-        $invoice_detail = new InvoiceDetail;\r\n-        $invoice_detail->idproduct = $iditem;\r\n-        $invoice_detail->idtransaction = $myinvoiceid;\r\n-        $invoice_detail->qty = $qtyitem;\r\n-        $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n-        $invoice_detail->subtotal = $subtotal;\r\n-        $invoice_detail->save();\r\n+       \r\n             // return $myqty;\r\n    \r\n \r\n     //    if (session()->has('cart')) \r\n"
                },
                {
                    "date": 1634473925856,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,9 +192,9 @@\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n             $invoice_detail = new InvoiceDetail;\r\n-            $invoice_detail->idproduct = $iditem;\r\n+            $invoice_detail->idproduct = $mycart[$i][''];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $qtyitem;\r\n             $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n             $invoice_detail->subtotal = $subtotal;\r\n"
                },
                {
                    "date": 1634473936258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,9 +192,9 @@\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n             $invoice_detail = new InvoiceDetail;\r\n-            $invoice_detail->idproduct = $mycart[$i][''];\r\n+            $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $qtyitem;\r\n             $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n             $invoice_detail->subtotal = $subtotal;\r\n"
                },
                {
                    "date": 1634473965288,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -194,9 +194,9 @@\n         {\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n-            $invoice_detail->qty = $qtyitem;\r\n+            $invoice_detail->qty =$mycart[$i]['idproduct'];\r\n             $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n             $invoice_detail->subtotal = $subtotal;\r\n             $invoice_detail->save();\r\n         }\r\n"
                },
                {
                    "date": 1634473987305,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -194,10 +194,10 @@\n         {\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n-            $invoice_detail->qty =$mycart[$i]['idproduct'];\r\n-            $invoice_detail->selling_price = ($subtotal/$qtyitem);\r\n+            $invoice_detail->qty = $mycart[$i]['qty'];\r\n+            $invoice_detail->selling_price = $mycart[$i]['qty'];\r\n             $invoice_detail->subtotal = $subtotal;\r\n             $invoice_detail->save();\r\n         }\r\n        \r\n"
                },
                {
                    "date": 1634473999567,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,9 +195,9 @@\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n-            $invoice_detail->selling_price = $mycart[$i]['qty'];\r\n+            $invoice_detail->selling_price = $mycart[$i]['selling_price'];\r\n             $invoice_detail->subtotal = $subtotal;\r\n             $invoice_detail->save();\r\n         }\r\n        \r\n"
                },
                {
                    "date": 1634474004737,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,9 +196,9 @@\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n             $invoice_detail->selling_price = $mycart[$i]['selling_price'];\r\n-            $invoice_detail->subtotal = $subtotal;\r\n+            $invoice_detail->subtotal = $mycart[$i]['subtotal'];\r\n             $invoice_detail->save();\r\n         }\r\n        \r\n             // return $myqty;\r\n"
                },
                {
                    "date": 1634475693802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,8 +199,9 @@\n             $invoice_detail->selling_price = $mycart[$i]['selling_price'];\r\n             $invoice_detail->subtotal = $mycart[$i]['subtotal'];\r\n             $invoice_detail->save();\r\n         }\r\n+        MyModel::truncate();\r\n        \r\n             // return $myqty;\r\n    \r\n \r\n"
                },
                {
                    "date": 1634475707763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,9 +199,9 @@\n             $invoice_detail->selling_price = $mycart[$i]['selling_price'];\r\n             $invoice_detail->subtotal = $mycart[$i]['subtotal'];\r\n             $invoice_detail->save();\r\n         }\r\n-        MyModel::truncate();\r\n+        Cart::truncate();\r\n        \r\n             // return $myqty;\r\n    \r\n \r\n"
                },
                {
                    "date": 1634475955194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -332,13 +332,13 @@\n         // return $mystring.\"~~~\".$alltotal;\r\n        \r\n     }\r\n     public function clearcart(){\r\n-        Session::forget('cart');\r\n-        Session::forget('subtotalcart');\r\n-        Session::forget('totalqty');\r\n-        $mystring = \"\";\r\n-        return $mystring;\r\n+        // Session::forget('cart');\r\n+        // Session::forget('subtotalcart');\r\n+        // Session::forget('totalqty');\r\n+        // $mystring = \"\";\r\n+        // return $mystring;\r\n         \r\n     }\r\n \r\n     /**\r\n"
                },
                {
                    "date": 1634475974046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -337,9 +337,9 @@\n         // Session::forget('subtotalcart');\r\n         // Session::forget('totalqty');\r\n         // $mystring = \"\";\r\n         // return $mystring;\r\n-        \r\n+        Cart::truncate();\r\n     }\r\n \r\n     /**\r\n      * Show the form for creating a new resource.\r\n"
                },
                {
                    "date": 1634999595685,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,8 +191,9 @@\n \r\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n+            $buyingprice = DB::select(\"\");\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n"
                },
                {
                    "date": 1634999602047,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,9 +191,9 @@\n \r\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n-            $buyingprice = DB::select(\"\");\r\n+            $buyingprice = DB::select(\"select * from product\");\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n"
                },
                {
                    "date": 1634999666539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,9 +191,9 @@\n \r\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n-            $buyingprice = DB::select(\"select * from product\");\r\n+            $buyingprice = DB::select(\"SELECT avg(price) FROM `supplier_product` where idproduct = '1'\");\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n"
                },
                {
                    "date": 1634999677356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,9 +191,9 @@\n \r\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n-            $buyingprice = DB::select(\"SELECT avg(price) FROM `supplier_product` where idproduct = '1'\");\r\n+            $buyingprice = DB::select(\"SELECT avg(price) FROM `supplier_product` where idproduct = '\"..\"'\");\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n"
                },
                {
                    "date": 1634999688036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,9 +191,9 @@\n \r\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n-            $buyingprice = DB::select(\"SELECT avg(price) FROM `supplier_product` where idproduct = '\"..\"'\");\r\n+            $buyingprice = DB::select(\"SELECT avg(price) FROM `supplier_product` where idproduct = '\".$mycart[$i]['idproduct'].\"'\");\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n"
                },
                {
                    "date": 1634999721860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,9 +191,10 @@\n \r\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n-            $buyingprice = DB::select(\"SELECT avg(price) FROM `supplier_product` where idproduct = '\".$mycart[$i]['idproduct'].\"'\");\r\n+            $buyingprice = DB::select(\"SELECT avg(price) as rata FROM `supplier_product` where idproduct = '\".$mycart[$i]['idproduct'].\"'\");\r\n+            \r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n"
                },
                {
                    "date": 1634999739811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,9 +192,9 @@\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n             $buyingprice = DB::select(\"SELECT avg(price) as rata FROM `supplier_product` where idproduct = '\".$mycart[$i]['idproduct'].\"'\");\r\n-            \r\n+            $buyingpricefix = \"\";\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n"
                },
                {
                    "date": 1634999752032,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,9 +192,9 @@\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n             $buyingprice = DB::select(\"SELECT avg(price) as rata FROM `supplier_product` where idproduct = '\".$mycart[$i]['idproduct'].\"'\");\r\n-            $buyingpricefix = \"\";\r\n+            $buyingpricefix = $buyingprice[0]->;\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n"
                },
                {
                    "date": 1634999775227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,9 +192,9 @@\n         // Invoice Detail\r\n         for($i = 0 ; $i < count($mycart) ; $i++)\r\n         {\r\n             $buyingprice = DB::select(\"SELECT avg(price) as rata FROM `supplier_product` where idproduct = '\".$mycart[$i]['idproduct'].\"'\");\r\n-            $buyingpricefix = $buyingprice[0]->;\r\n+            $buyingpricefix = $buyingprice[0]->rata;\r\n             $invoice_detail = new InvoiceDetail;\r\n             $invoice_detail->idproduct = $mycart[$i]['idproduct'];\r\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n"
                },
                {
                    "date": 1634999789581,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,8 +199,9 @@\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n             $invoice_detail->selling_price = $mycart[$i]['selling_price'];\r\n             $invoice_detail->subtotal = $mycart[$i]['subtotal'];\r\n+            $invoice_detail->buyingprice\r\n             $invoice_detail->save();\r\n         }\r\n         Cart::truncate();\r\n        \r\n"
                },
                {
                    "date": 1634999819021,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,9 +199,9 @@\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n             $invoice_detail->selling_price = $mycart[$i]['selling_price'];\r\n             $invoice_detail->subtotal = $mycart[$i]['subtotal'];\r\n-            $invoice_detail->buyingprice\r\n+            $invoice_detail->buyingprice = $buyingpricefix;\r\n             $invoice_detail->save();\r\n         }\r\n         Cart::truncate();\r\n        \r\n"
                },
                {
                    "date": 1634999972553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,9 +199,9 @@\n             $invoice_detail->idtransaction = $myinvoiceid;\r\n             $invoice_detail->qty = $mycart[$i]['qty'];\r\n             $invoice_detail->selling_price = $mycart[$i]['selling_price'];\r\n             $invoice_detail->subtotal = $mycart[$i]['subtotal'];\r\n-            $invoice_detail->buyingprice = $buyingpricefix;\r\n+            $invoice_detail->buyingprice = $buyingpricefix * $mycart[$i]['qty'];\r\n             $invoice_detail->save();\r\n         }\r\n         Cart::truncate();\r\n        \r\n"
                },
                {
                    "date": 1635004516312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = Product::where('stok', '>','0')->get();\r\n+        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')where('stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1635004524978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')where('stok', '>','0')->get();\r\n+        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('prodcut.stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1635004541825,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('prodcut.stok', '>','0')->get();\r\n+        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1635004559262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n+        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->select(\"supplier_product.*\")->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1635004637763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->select(\"supplier_product.*\")->get();\r\n+        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1635004667077,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,10 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n+        $mycart = ;\r\n+        Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1635004673350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = ;\r\n+        $mycart = DB::select)_;\r\n         Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n"
                },
                {
                    "date": 1635004701608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = DB::select)_;\r\n+        $mycart = DB::select(\"select * from product inner join supplier_product on supplier_product.idproduct = product.id where product.stok > 0\");\r\n         Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n"
                },
                {
                    "date": 1635004714315,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = DB::select(\"select * from product inner join supplier_product on supplier_product.idproduct = product.id where product.stok > 0\");\r\n+        $mycart = DB::select(\"select * from product inner join supplier_product on supplier_product.idproduct = product.id where product.stok > 0 group by product.id\");\r\n         Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n"
                },
                {
                    "date": 1635004762426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,10 +89,10 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = DB::select(\"select * from product inner join supplier_product on supplier_product.idproduct = product.id where product.stok > 0 group by product.id\");\r\n-        Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n+        $mycart = DB::select(\"select * from product inner join supplier_product on supplier_product.idproduct = product.id where product.stok > 0  group by product.id\");\r\n+        // Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n         })\r\n"
                },
                {
                    "date": 1635004950780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         \r\n     }\r\n     public function gettableproduct(){\r\n       \r\n-        $mycart = DB::select(\"select * from product inner join supplier_product on supplier_product.idproduct = product.id where product.stok > 0  group by product.id\");\r\n+        $mycart = DB::select(\"select * from product inner join supplier_product on supplier_product.idproduct = product.id where product.stok > 0 and product.status = 'Active' group by product.id\");\r\n         // Product::join(\"supplier_product\",'supplier_product.idproduct','=','product.id')->where('product.stok', '>','0')->get();\r\n         return DataTables::of($mycart)\r\n         ->editColumn('kode', function($query) {\r\n             return '<label id = \"kode_'.$query->id.'\"> '.$query->kode.'</label>';\r\n"
                }
            ],
            "date": 1630203664033,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\Request;\n\nclass KasirController extends Controller\n{\n    /**\n     * Display a listing of the resource.\n     *\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function index()\n    {\n        return view('daftar_barang');\n    }\n\n    /**\n     * Show the form for creating a new resource.\n     *\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function create()\n    {\n        //\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function store(Request $request)\n    {\n        //\n    }\n\n    /**\n     * Display the specified resource.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function show($id)\n    {\n        //\n    }\n\n    /**\n     * Show the form for editing the specified resource.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function edit($id)\n    {\n        //\n    }\n\n    /**\n     * Update the specified resource in storage.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function update(Request $request, $id)\n    {\n        //\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function destroy($id)\n    {\n        //\n    }\n}\n"
        }
    ]
}